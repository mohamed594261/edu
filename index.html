<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ - ุงูููุตุฉ ุงูุชุนููููุฉ ุงูุดุงููุฉ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap');
    
    <!--ุจุฏุงูุฉ ุงูุงุถุงูุฉ ูุชุนุฏูู footer ุงูุซุงุจุช-->
  /* ุญู ูุดููุฉ ุงูููุชุฑ ุงูุซุงุจุช */
  body {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  
  #app {
    flex: 1;
    display: flex;
    flex-direction: column;
  }
  
  main {
    flex: 1;
  }
  
  /* ุงูููุชุฑ ุงููุฑู */
  footer {
    background: #1f2937; /* bg-gray-900 */
    color: white;
    padding: 2rem 0; /* py-8 */
    margin-top: auto; /* ูุฏูุนู ููุฃุณูู ุชููุงุฆูุงู */
  }
  
  /* ุงูุชุฃูุฏ ูู ุฃู iframe ุงููุญุชูู ูุง ูุชุฃุซุฑ */
  iframe {
    display: auto;
  }
  
  /* ุฎุงุตูุฉ ุฌุฏูุฏุฉ ูุถูุงู ุนุฏู ุชุฏุงุฎู ุงููุญุชูู */
  .content-container {
    flex: 1;
    min-height: 0; /* ูุณูุญ ุจุงูุชูุฑูุฑ */
    overflow: auto;
  }
  
  /* ุญู ูุดููุฉ iframe ุฏุงุฎู ุตูุญุฉ ุงูุฏูุฑุฉ */
  #courseContent iframe {
    flex: 1;
    min-height: 500px;
  }
<!-- ููุงูุฉ ุงูุงุถุงูุฉ ุงูุงุฎูุฑุฉ-->
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .gradient-bg-secondary {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }
    
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 9999;
      overflow-y: auto;
    }
    
    .modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .sidebar {
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }
    
    .sidebar.active {
      transform: translateX(0);
    }
    
    .btn-primary {
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }
    
    .course-card {
      border-right: 4px solid transparent;
      transition: all 0.3s ease;
    }
    
    .course-card:hover {
      border-right-color: #667eea;
      background: #f8f9ff;
    }
    
    .lesson-item {
      transition: all 0.2s ease;
    }
    
    .lesson-item:hover {
      background: linear-gradient(to left, rgba(102, 126, 234, 0.1), transparent);
    }
    
    .lang-btn {
      background: rgba(255, 255, 255, 0.2);
    }
    
    .lang-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    
    .lang-btn.active {
      background: rgba(255, 255, 255, 0.9);
      color: #667eea;
      font-weight: bold;
    }
    
    #codeInput {
      tab-size: 4;
      -moz-tab-size: 4;
    }
    
    #outputFrame {
      background: white;
    }
    
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 10000;
      max-width: 400px;
      animation: slideIn 0.3s ease;
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    .file-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      margin-left: 12px;
    }
    
    .file-icon.html {
      background: linear-gradient(135deg, #e34f26, #f06529);
    }
    
    .file-icon.pdf {
      background: linear-gradient(135deg, #f40f02, #ff6b6b);
    }
    
    .file-icon.video {
      background: linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045);
    }
    
    .file-icon.audio {
      background: linear-gradient(135deg, #1db954, #1ed760);
    }
    
    .file-icon.image {
      background: linear-gradient(135deg, #405de6, #5851db, #833ab4, #c13584, #e1306c, #fd1d1d);
    }
    
    .file-icon.document {
      background: linear-gradient(135deg, #185abd, #4285f4);
    }
    
    .file-icon.external {
      background: linear-gradient(135deg, #34a853, #0f9d58);
    }
    
    .loader {
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top: 4px solid #667eea;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .progress-bar {
      height: 6px;
      border-radius: 3px;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.2);
    }
    
    .progress-bar-fill {
      height: 100%;
      background: white;
      transition: width 0.3s ease;
    }
    
    /* ุฃููููุดู ููุฃููููุงุช */
    .pulse {
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    /* ุชุฃุซูุฑุงุช ููุจุทุงูุงุช */
    .glass-effect {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    /* ุดุฑูุท ุชูุฑูุฑ ูุฎุตุต */
    .custom-scrollbar::-webkit-scrollbar {
      width: 8px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.05);
      border-radius: 4px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: rgba(102, 126, 234, 0.5);
      border-radius: 4px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: rgba(102, 126, 234, 0.8);
    }
    
    /* ุชุฃุซูุฑุงุช ูุตูุฉ */
    .text-gradient {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  </style>
</head>
<body class="h-full bg-gray-50">
  <!-- ุฅุดุนุงุฑุงุช ุงููุธุงู -->
  <div id="notificationContainer"></div>
  
  <!-- ุงูุชุทุจูู ุงูุฑุฆูุณู -->
  <div id="app" class="w-full h-full flex flex-col">
    
    <!-- ุงูููุฏุฑ ุงููุญุณูู -->
    <header class="w-full gradient-bg text-white shadow-xl sticky top-0 z-50">
      <div class="container mx-auto px-4 py-3">
        <div class="flex items-center justify-between flex-wrap gap-4">
          
          <!-- ุงูุดุนุงุฑ ูุงูุงุณู -->
          <div class="flex items-center gap-3">
            <div class="bg-white rounded-xl p-2 shadow-lg">
              <div class="w-10 h-10 flex items-center justify-center">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                  <path d="M20 5L35 15V25L20 35L5 25V15L20 5Z" fill="#667eea" />
                  <circle cx="20" cy="20" r="6" fill="white" />
                  <path d="M15 20L20 25L25 15" stroke="#667eea" stroke-width="2" />
                </svg>
              </div>
            </div>
            <div>
              <h1 id="platformName" class="text-xl md:text-2xl font-bold">ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ</h1>
              <p id="platformTagline" class="text-xs md:text-sm opacity-90">ุงูุชุนููู ุงูุญุฏูุซ ููุณุชูุจู ุฃูุถู</p>
            </div>
          </div>
          
          <!-- ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ (ููุจุฑุฉ) -->
          <nav class="hidden lg:flex items-center gap-8">
            <a href="#" onclick="showPage('home'); return false;" class="hover:opacity-80 transition flex items-center gap-2 text-lg">
              <i class="fas fa-home"></i>
              ุงูุฑุฆูุณูุฉ
            </a>
            <a href="#" onclick="showPage('courses'); return false;" class="hover:opacity-80 transition flex items-center gap-2 text-lg">
              <i class="fas fa-book-open"></i>
              ุงูุฏูุฑุงุช
            </a>
            <a href="#" onclick="showPage('about'); return false;" class="hover:opacity-80 transition flex items-center gap-2 text-lg">
              <i class="fas fa-info-circle"></i>
              ูู ูุญู
            </a>
            <a href="#" onclick="showPage('contact'); return false;" class="hover:opacity-80 transition flex items-center gap-2 text-lg">
              <i class="fas fa-envelope"></i>
              ุงุชุตู ุจูุง
            </a>
          </nav>
          
          <!-- ูุนูููุงุช ุงููุณุชุฎุฏู ูุฒุฑ ุงูุฏุฎูู -->
          <div class="flex items-center gap-4">
            <!-- ุฃุฒุฑุงุฑ ุงููุตุงุฏูุฉ / ูุนูููุงุช ุงููุณุชุฎุฏู -->
            <div id="userInfo" style="display: none;" class="flex items-center gap-4">
              <div class="text-right">
                <span id="userName" class="font-semibold block"></span>
                <span id="userEmail" class="text-xs opacity-80 block"></span>
              </div>
              <div class="relative group">
                <button id="userAvatar" class="w-10 h-10 rounded-full bg-white text-purple-600 flex items-center justify-center font-bold text-lg hover:bg-gray-100 transition">
                  ู
                </button>
                <!-- ูุงุฆูุฉ ุงููุณุชุฎุฏู ุงูููุณุฏูุฉ -->
                <div class="absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-50 hidden group-hover:block">
                  <div class="py-2">
                    <a href="#" onclick="showPage('dashboard'); return false;" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
                      <i class="fas fa-tachometer-alt ml-2"></i>
                      ููุญุฉ ุงูุชุญูู
                    </a>
                    <a href="#" onclick="showPage('profile'); return false;" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
                      <i class="fas fa-user ml-2"></i>
                      ุงูููู ุงูุดุฎุตู
                    </a>
                    <a href="#" onclick="showPage('myCourses'); return false;" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
                      <i class="fas fa-book ml-2"></i>
                      ุฏูุฑุงุชู
                    </a>
                    <hr class="my-1">
                    <button onclick="handleLogout()" class="w-full text-right px-4 py-2 text-red-600 hover:bg-red-50">
                      <i class="fas fa-sign-out-alt ml-2"></i>
                      ุชุณุฌูู ุฎุฑูุฌ
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- ุฃุฒุฑุงุฑ ุงูุฏุฎูู ูุงูุชุณุฌูู -->
            <div id="authButtons" class="flex items-center gap-3">
              <button onclick="openModal('login')" class="px-5 py-2.5 bg-white text-purple-600 rounded-lg font-bold hover:bg-gray-100 transition flex items-center gap-2 shadow-md">
                <i class="fas fa-sign-in-alt"></i>
                ุชุณุฌูู ุงูุฏุฎูู
              </button>
              <button onclick="openModal('register')" class="px-5 py-2.5 bg-purple-800 text-white rounded-lg font-bold hover:bg-purple-900 transition flex items-center gap-2 shadow-md">
                <i class="fas fa-user-plus"></i>
                ุชุณุฌูู ุฌุฏูุฏ
              </button>
            </div>
            
            <!-- ุฒุฑ ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ููุฌูุงู -->
            <button id="sidebarToggle" class="lg:hidden text-2xl" onclick="toggleMobileSidebar()">
              <i class="fas fa-bars"></i>
            </button>
          </div>
        </div>
        
        <!-- ุงููุงุฆูุฉ ุงููุชูููุฉ ููุฌูุงู -->
        <nav id="mobileNav" class="lg:hidden mt-4 pt-4 border-t border-white/20 hidden">
          <div class="flex flex-col gap-3">
            <a href="#" onclick="showPage('home'); toggleMobileNav(); return false;" class="text-lg hover:opacity-80 transition flex items-center gap-3">
              <i class="fas fa-home"></i>
              ุงูุฑุฆูุณูุฉ
            </a>
            <a href="#" onclick="showPage('courses'); toggleMobileNav(); return false;" class="text-lg hover:opacity-80 transition flex items-center gap-3">
              <i class="fas fa-book-open"></i>
              ุงูุฏูุฑุงุช
            </a>
            <a href="#" onclick="showPage('about'); toggleMobileNav(); return false;" class="text-lg hover:opacity-80 transition flex items-center gap-3">
              <i class="fas fa-info-circle"></i>
              ูู ูุญู
            </a>
            <a href="#" onclick="showPage('contact'); toggleMobileNav(); return false;" class="text-lg hover:opacity-80 transition flex items-center gap-3">
              <i class="fas fa-envelope"></i>
              ุงุชุตู ุจูุง
            </a>
          </div>
        </nav>
      </div>
    </header>
    
    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="w-full flex-1 overflow-auto">

      <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
<!--<main class="w-full flex-1 overflow-auto content-container">-->
      
      <!-- ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ -->
      <div id="homePage" class="page-content">
        <!-- ูุณู ุงูุจุทู -->
        <section class="gradient-bg text-white py-16 md:py-24">
          <div class="container mx-auto px-4 text-center">
            <h2 id="heroTitle" class="text-3xl md:text-5xl font-bold mb-6">ุงุจุฏุฃ ุฑุญูุชู ุงูุชุนููููุฉ ูุน ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ</h2>
            <p id="heroDescription" class="text-lg md:text-xl mb-8 opacity-90">ุชุนูู ุงูุจุฑูุฌุฉุ ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ ุงูุชุตููู ูุงููุฒูุฏ ูุน ุฃูุถู ุงููุฏุฑุจูู</p>
            <div class="flex flex-wrap gap-4 justify-center">
              <button onclick="showPage('courses')" class="btn-primary px-8 py-4 bg-white text-purple-600 rounded-xl font-bold text-lg hover:bg-gray-100 shadow-xl">
                <i class="fas fa-play ml-2"></i>
                ุงุจุฏุฃ ุงูุชุนูู ุงูุขู
              </button>
              <button onclick="openModal('register')" class="btn-primary px-8 py-4 bg-purple-800 text-white rounded-xl font-bold text-lg hover:bg-purple-900 shadow-xl">
                <i class="fas fa-user-plus ml-2"></i>
                ุงูุถู ุฅูููุง ูุฌุงูุงู
              </button>
            </div>
          </div>
        </section>
        
        <!-- ูุณู ุงููููุฒุงุช -->
        <section class="w-full py-16 bg-white">
          <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-800">ููุงุฐุง ุชุฎุชุงุฑ ููุตุชูุงุ</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <div class="card-hover bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl shadow-lg p-6 border border-purple-100">
                <div class="text-5xl mb-4 text-purple-600">
                  <i class="fas fa-graduation-cap"></i>
                </div>
                <h3 class="text-xl font-bold mb-3 text-gray-800">ุดูุงุฏุงุช ูุนุชูุฏุฉ</h3>
                <p class="text-gray-600 mb-4">ุงุญุตู ุนูู ุดูุงุฏุงุช ูุนุชูุฏุฉ ุนูุฏ ุฅุชูุงู ูู ุฏูุฑุฉ ุชุนููููุฉ</p>
              </div>
              
              <div class="card-hover bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl shadow-lg p-6 border border-green-100">
                <div class="text-5xl mb-4 text-green-600">
                  <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <h3 class="text-xl font-bold mb-3 text-gray-800">ูุฏุฑุจูู ุฎุจุฑุงุก</h3>
                <p class="text-gray-600 mb-4">ุชุนูู ูู ุฃูุถู ุงููุฏุฑุจูู ุงููุญุชุฑููู ูู ูุฌุงูุงุชูู</p>
              </div>
              
              <div class="card-hover bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl shadow-lg p-6 border border-yellow-100">
                <div class="text-5xl mb-4 text-yellow-600">
                  <i class="fas fa-laptop-code"></i>
                </div>
                <h3 class="text-xl font-bold mb-3 text-gray-800">ูุญุชูู ูุชุนุฏุฏ</h3>
                <p class="text-gray-600 mb-4">ุฏุฑูุณ ุชูุงุนููุฉุ ููุฏูููุงุชุ ูููุงุช PDFุ ุชูุงุฑูู ุนูููุฉ</p>
              </div>
              
              <div class="card-hover bg-gradient-to-br from-pink-50 to-red-50 rounded-2xl shadow-lg p-6 border border-pink-100">
                <div class="text-5xl mb-4 text-red-600">
                  <i class="fas fa-headset"></i>
                </div>
                <h3 class="text-xl font-bold mb-3 text-gray-800">ุฏุนู ููู ูุชูุงูู</h3>
                <p class="text-gray-600 mb-4">ูุฑูู ุฏุนู ููู ูุชุงุญ ููุฅุฌุงุจุฉ ุนูู ุงุณุชูุณุงุฑุงุชู</p>
              </div>
            </div>
          </div>
        </section>
        
        <!-- ูุณู ุงูุฏูุฑุงุช -->
        <section class="w-full py-16 bg-gray-50">
          <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-800">ุฃูุณุงู ุงูุจุฑูุฌุฉ ูุงูุชุตููู</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <div class="card-hover bg-white rounded-2xl shadow-lg p-6 cursor-pointer" onclick="showCourse('frontend')">
                <div class="text-5xl mb-4 text-purple-600">
                  <i class="fas fa-code"></i>
                </div>
                <h3 class="text-xl font-bold mb-3 text-gray-800">ุชุทููุฑ ุงููุงุฌูุงุช ุงูุฃูุงููุฉ</h3>
                <p class="text-gray-600 mb-4">ุชุนูู HTML, CSS, JavaScript, React ู Vue.js</p>
                <div class="flex justify-between items-center">
                  <span class="text-purple-600 font-bold">18 ุฏุฑุณ</span>
                  <span class="text-purple-600 font-semibold">โ</span>
                </div>
              </div>
              
              <div class="card-hover bg-white rounded-2xl shadow-lg p-6 cursor-pointer" onclick="showCourse('backend')">
                <div class="text-5xl mb-4 text-blue-600">
                  <i class="fas fa-server"></i>
                </div>
                <h3 class="text-xl font-bold mb-3 text-gray-800">ุชุทููุฑ ุงููุงุฌูุงุช ุงูุฎูููุฉ</h3>
                <p class="text-gray-600 mb-4">ุชุนูู Node.js, Python, PHP ูููุงุนุฏ ุงูุจูุงูุงุช</p>
                <div class="flex justify-between items-center">
                  <span class="text-blue-600 font-bold">15 ุฏุฑุณ</span>
                  <span class="text-blue-600 font-semibold">โ</span>
                </div>
              </div>
              
              <div class="card-hover bg-white rounded-2xl shadow-lg p-6 cursor-pointer" onclick="showCourse('ai')">
                <div class="text-5xl mb-4 text-green-600">
                  <i class="fas fa-robot"></i>
                </div>
                <h3 class="text-xl font-bold mb-3 text-gray-800">ุงูุฐูุงุก ุงูุงุตุทูุงุนู</h3>
                <p class="text-gray-600 mb-4">ุชุนูู Machine Learning, Deep Learning ู Data Science</p>
                <div class="flex justify-between items-center">
                  <span class="text-green-600 font-bold">22 ุฏุฑุณ</span>
                  <span class="text-green-600 font-semibold">โ</span>
                </div>
              </div>
              
              <div class="card-hover bg-white rounded-2xl shadow-lg p-6 cursor-pointer" onclick="showCourse('design')">
                <div class="text-5xl mb-4 text-red-600">
                  <i class="fas fa-paint-brush"></i>
                </div>
                <h3 class="text-xl font-bold mb-3 text-gray-800">ุงูุชุตููู ุงูุฌุฑุงูููู</h3>
                <p class="text-gray-600 mb-4">ุชุนูู Photoshop, Illustrator, UI/UX Design</p>
                <div class="flex justify-between items-center">
                  <span class="text-red-600 font-bold">12 ุฏุฑุณ</span>
                  <span class="text-red-600 font-semibold">โ</span>
                </div>
              </div>
            </div>
            
            <div class="text-center mt-12">
              <button onclick="showPage('courses')" class="btn-primary px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-bold text-lg hover:from-purple-700 hover:to-blue-700 shadow-xl">
                <i class="fas fa-book-open ml-2"></i>
                ุนุฑุถ ุฌููุน ุงูุฏูุฑุงุช
              </button>
            </div>
          </div>
        </section>
      </div>
      
      <!-- ุตูุญุฉ ุฌููุน ุงูุฏูุฑุงุช -->
      <div id="coursesPage" class="page-content hidden">
        <div class="container mx-auto px-4 py-8">
          <h2 class="text-3xl md:text-4xl font-bold mb-8 text-gray-800">ุฌููุน ุงูุฏูุฑุงุช ุงููุชุงุญุฉ</h2>
          
          <!-- ุดุฑูุท ุงูุจุญุซ ูุงูุชุตููุฉ -->
          <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
            <div class="flex flex-col md:flex-row gap-4">
              <div class="flex-1">
                <div class="relative">
                  <input type="text" id="courseSearch" placeholder="ุงุจุญุซ ุนู ุฏูุฑุฉ ุฃู ุฏุฑุณ..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 pr-12">
                  <button onclick="searchCourses()" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-purple-600">
                    <i class="fas fa-search"></i>
                  </button>
                </div>
              </div>
              <div>
                <select id="courseFilter" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                  <option value="all">ุฌููุน ุงูุชุตูููุงุช</option>
                  <option value="frontend">ุงููุงุฌูุงุช ุงูุฃูุงููุฉ</option>
                  <option value="backend">ุงููุงุฌูุงุช ุงูุฎูููุฉ</option>
                  <option value="ai">ุงูุฐูุงุก ุงูุงุตุทูุงุนู</option>
                  <option value="design">ุงูุชุตููู</option>
                  <option value="math">ุงูุฑูุงุถูุงุช</option>
                  <option value="language">ุงููุบุงุช</option>
                </select>
              </div>
            </div>
          </div>
          
          <!-- ูุงุฆูุฉ ุฌููุน ุงูุฏูุฑุงุช -->
          <div id="allCoursesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุฏูุฑุงุช ุฏููุงููููุงู -->
          </div>
          
          <!-- ุฑุณุงูุฉ ุนุฏู ูุฌูุฏ ูุชุงุฆุฌ -->
          <div id="noCoursesMessage" class="hidden text-center py-12">
            <i class="fas fa-search text-6xl text-gray-400 mb-4"></i>
            <h3 class="text-2xl font-bold text-gray-700 mb-2">ูู ูุชู ุงูุนุซูุฑ ุนูู ุฏูุฑุงุช</h3>
            <p class="text-gray-600">ุฌุฑุจ ุงุณุชุฎุฏุงู ูุตุทูุญุงุช ุจุญุซ ุฃุฎุฑู ุฃู ุงุฎุชุฑ ุชุตูููุงู ูุฎุชููุงู</p>
          </div>
        </div>
      </div>
      
      <!-- ุตูุญุฉ ูู ูุญู -->
      <div id="aboutPage" class="page-content hidden">
        <div class="container mx-auto px-4 py-16">
          <h2 class="text-4xl font-bold mb-8 text-gray-800 text-center">ูู ูุญู</h2>
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
              <p class="text-lg text-gray-700 mb-6 leading-relaxed">ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ ูู ููุตุฉ ุชุนููููุฉ ุฑุงุฆุฏุฉ ุชูุฏู ุฅูู ุชูุฏูู ุฃูุถู ุงููุญุชูู ุงูุชุนูููู ูู ูุฌุงูุงุช ุงูุจุฑูุฌุฉุ ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ ุงูุชุตููู ูุงููุบุงุช.</p>
              <p class="text-lg text-gray-700 mb-6 leading-relaxed">ูุญู ูุคูู ุจุฃู ุงูุชุนููู ุญู ููุฌููุนุ ููุณุนู ูุชูููุฑ ุจูุฆุฉ ุชุนููููุฉ ุชูุงุนููุฉ ูููุชุนุฉ ุชุณุงุนุฏ ุงููุชุนูููู ุนูู ุชุญููู ุฃูุฏุงููู ุงูููููุฉ ูุงูุดุฎุตูุฉ.</p>
              
              <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-10">
                <div class="text-center">
                  <div class="text-5xl text-purple-600 mb-4">
                    <i class="fas fa-users"></i>
                  </div>
                  <h4 class="text-xl font-bold text-gray-800 mb-2">+10,000 ุทุงูุจ</h4>
                  <p class="text-gray-600">ููุถู ุฅูููุง ุขูุงู ุงูุทูุงุจ ุดูุฑูุงู</p>
                </div>
                
                <div class="text-center">
                  <div class="text-5xl text-blue-600 mb-4">
                    <i class="fas fa-chalkboard-teacher"></i>
                  </div>
                  <h4 class="text-xl font-bold text-gray-800 mb-2">+50 ูุฏุฑุจ</h4>
                  <p class="text-gray-600">ุฃูุถู ุงููุฏุฑุจูู ูู ูุฌุงูุงุชูู</p>
                </div>
                
                <div class="text-center">
                  <div class="text-5xl text-green-600 mb-4">
                    <i class="fas fa-book"></i>
                  </div>
                  <h4 class="text-xl font-bold text-gray-800 mb-2">+200 ุฏูุฑุฉ</h4>
                  <p class="text-gray-600">ุฏูุฑุงุช ูุชููุนุฉ ูุดุงููุฉ</p>
                </div>
              </div>
            </div>
            
            <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-r-4 border-purple-600 rounded-2xl p-8">
              <h3 class="text-2xl font-bold text-gray-800 mb-4">ุฑุคูุชูุง ูุฑุณุงูุชูุง</h3>
              <p class="text-gray-700 mb-4">ูุณุนู ูุฃู ูููู ุงูููุตุฉ ุงูุชุนููููุฉ ุงูุฑุงุฆุฏุฉ ูู ุงูุดุฑู ุงูุฃูุณุทุ ุงูุชู ุชููุฑ ุชุนูููุงู ุนุงูู ุงูุฌูุฏุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูู ุฌููุน ุงููุฌุงูุงุช ุงูุชูููุฉ ูุงููุบููุฉ.</p>
              <p class="text-gray-700">ุฑุณุงูุชูุง ูู ุชูููู ุงูุดุจุงุจ ุงูุนุฑุจู ูู ุฎูุงู ุชูููุฑ ุงูุชุนููู ุงูุญุฏูุซ ูุงูุนููู ุงูุฐู ูุณุงุนุฏูู ุนูู ุงูููุงูุณุฉ ูู ุณูู ุงูุนูู ุงููุญูู ูุงูุนุงููู.</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ุตูุญุฉ ุงุชุตู ุจูุง -->
      <div id="contactPage" class="page-content hidden">
        <div class="container mx-auto px-4 py-16">
          <h2 class="text-4xl font-bold mb-8 text-gray-800 text-center">ุงุชุตู ุจูุง</h2>
          <div class="max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-white rounded-2xl shadow-xl p-8">
              <h3 class="text-2xl font-bold text-gray-800 mb-6">ุฃุฑุณู ุฑุณุงูุชู</h3>
              <form onsubmit="handleContact(event)">
                <div class="mb-6">
                  <label for="contactName" class="block text-gray-700 font-semibold mb-2">ุงูุงุณู ุงููุงูู</label>
                  <input type="text" id="contactName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                </div>
                <div class="mb-6">
                  <label for="contactEmail" class="block text-gray-700 font-semibold mb-2">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                  <input type="email" id="contactEmail" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                </div>
                <div class="mb-6">
                  <label for="contactSubject" class="block text-gray-700 font-semibold mb-2">ุงูููุถูุน</label>
                  <input type="text" id="contactSubject" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                </div>
                <div class="mb-6">
                  <label for="contactMessage" class="block text-gray-700 font-semibold mb-2">ุงูุฑุณุงูุฉ</label>
                  <textarea id="contactMessage" required rows="5" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600"></textarea>
                </div>
                <button type="submit" class="w-full btn-primary bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-blue-700">
                  <i class="fas fa-paper-plane ml-2"></i>
                  ุฅุฑุณุงู ุงูุฑุณุงูุฉ
                </button>
              </form>
            </div>
            
            <div class="space-y-6">
              <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                  <i class="fas fa-map-marker-alt text-purple-600 ml-2"></i>
                  ูุนูููุงุช ุงูุชูุงุตู
                </h3>
                <div class="space-y-4">
                  <div class="flex items-start">
                    <i class="fas fa-envelope text-gray-500 mt-1 ml-2"></i>
                    <div>
                      <p class="font-semibold text-gray-800">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</p>
                      <p class="text-gray-600">info@smart-edu.com</p>
                    </div>
                  </div>
                  <div class="flex items-start">
                    <i class="fas fa-phone text-gray-500 mt-1 ml-2"></i>
                    <div>
                      <p class="font-semibold text-gray-800">ุงููุงุชู</p>
                      <p class="text-gray-600">+966 12 345 6789</p>
                    </div>
                  </div>
                  <div class="flex items-start">
                    <i class="fas fa-clock text-gray-500 mt-1 ml-2"></i>
                    <div>
                      <p class="font-semibold text-gray-800">ุณุงุนุงุช ุงูุนูู</p>
                      <p class="text-gray-600">ุงูุฃุญุฏ - ุงูุฎููุณ: 9 ุตุจุงุญุงู - 5 ูุณุงุกู</p>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-2xl p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                  <i class="fas fa-headset text-green-600 ml-2"></i>
                  ุงูุฏุนู ุงูููู
                </h3>
                <p class="text-gray-700 mb-4">ูุฑูู ุงูุฏุนู ุงูููู ูุชุงุญ ููุฅุฌุงุจุฉ ุนูู ุงุณุชูุณุงุฑุงุชู ุฎูุงู ุณุงุนุงุช ุงูุนูู</p>
                <p class="text-gray-600">ููุญุตูู ุนูู ุฏุนู ุฃุณุฑุนุ ูุฑุฌู ุฐูุฑ ุฑูู ุงูุทูุจ ุฃู ุงุณู ุงููุณุชุฎุฏู ูู ุฑุณุงูุชู</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ุตูุญุฉ ููุญุฉ ุงูุชุญูู -->
      <div id="dashboardPage" class="page-content hidden">
        <div class="container mx-auto px-4 py-8">
          <h2 class="text-3xl font-bold mb-8 text-gray-800">ููุญุฉ ุชุญูู ุงูุทุงูุจ</h2>
          
          <!-- ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-2xl shadow-lg p-6">
              <h3 class="text-xl font-bold mb-2">ุงูุฏุฑูุณ ุงูููุชููุฉ</h3>
              <p class="text-4xl font-bold" id="completedLessonsCount">0/57</p>
            </div>
            
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl shadow-lg p-6">
              <h3 class="text-xl font-bold mb-2">ุณุงุนุงุช ุงูุชุนูู</h3>
              <p class="text-4xl font-bold">45</p>
            </div>
            
            <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-2xl shadow-lg p-6">
              <h3 class="text-xl font-bold mb-2">ุงูุดูุงุฏุงุช</h3>
              <p class="text-4xl font-bold">2</p>
            </div>
            
            <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 text-white rounded-2xl shadow-lg p-6">
              <h3 class="text-xl font-bold mb-2">ุงููุณุชูู</h3>
              <p class="text-4xl font-bold">5</p>
            </div>
          </div>
          
          <!-- ุงูุฏูุฑุงุช ุงูุญุงููุฉ ูุงูุชูุฏู -->
          <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <h3 class="text-2xl font-bold mb-4 text-gray-800">ุฏูุฑุงุชู ุงูุญุงููุฉ</h3>
            <div class="space-y-4" id="userCourses">
              <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุฏูุฑุงุช ุฏููุงููููุงู -->
              <div class="text-center py-8 text-gray-500" id="noCoursesMessage">
                <i class="fas fa-book-open text-4xl mb-4"></i>
                <p>ูู ุชุณุฌู ูู ุฃู ุฏูุฑุฉ ุจุนุฏ</p>
                <button onclick="showPage('courses')" class="mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
                  ุชุตูุญ ุงูุฏูุฑุงุช
                </button>
              </div>
            </div>
          </div>
          
          <!-- ุขุฎุฑ ุงููุดุงุทุงุช -->
          <div class="bg-white rounded-2xl shadow-lg p-6">
            <h3 class="text-2xl font-bold mb-4 text-gray-800">ุขุฎุฑ ุงููุดุงุทุงุช</h3>
            <div id="recentActivity">
              <div class="space-y-4">
                <div class="flex items-center gap-4 p-3 bg-gray-50 rounded-lg">
                  <div class="bg-purple-100 text-purple-600 rounded-full w-10 h-10 flex items-center justify-center">
                    <i class="fas fa-book"></i>
                  </div>
                  <div class="flex-1">
                    <p class="font-semibold text-gray-800">ุจุฏุฃุช ุฏูุฑุฉ "ุชุทููุฑ ุงููุงุฌูุงุช ุงูุฃูุงููุฉ"</p>
                    <p class="text-sm text-gray-600">ููุฐ 3 ุฃูุงู</p>
                  </div>
                </div>
                
                <div class="flex items-center gap-4 p-3 bg-gray-50 rounded-lg">
                  <div class="bg-green-100 text-green-600 rounded-full w-10 h-10 flex items-center justify-center">
                    <i class="fas fa-check-circle"></i>
                  </div>
                  <div class="flex-1">
                    <p class="font-semibold text-gray-800">ุฃุชููุช ุฏุฑุณ "ููุฏูุฉ ูู HTML"</p>
                    <p class="text-sm text-gray-600">ููุฐ 5 ุฃูุงู</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ุตูุญุฉ ุนุฑุถ ุงูุฏูุฑุฉ ูุน ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ -->
      <div id="courseView" class="page-content hidden h-full">
        <div class="flex h-full">
          <!-- ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ููุฏุฑูุณ -->
          <div id="courseSidebar" class="w-80 bg-white border-l border-gray-200 p-6 overflow-y-auto custom-scrollbar">
            <div class="flex items-center justify-between mb-6">
              <h3 class="text-xl font-bold text-gray-800" id="courseTitle">ุฏุฑูุณ ุงูุฏูุฑุฉ</h3>
              <button onclick="toggleCourseSidebar()" class="lg:hidden text-gray-600">
                <i class="fas fa-times"></i>
              </button>
            </div>
            
            <!-- ูุนูููุงุช ุงูุชูุฏู -->
            <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-4 mb-6">
              <div class="flex justify-between mb-2">
                <span class="text-sm font-semibold text-gray-700">ุงูุชูุฏู</span>
                <span class="text-sm font-bold text-purple-600" id="progressPercentage">0%</span>
              </div>
              <div class="progress-bar">
                <div id="progressBarFill" class="progress-bar-fill bg-gradient-to-r from-purple-500 to-blue-500" style="width: 0%"></div>
              </div>
            </div>
            
            <!-- ูุงุฆูุฉ ุงูุฏุฑูุณ -->
            <div id="lessonsList"></div>
            
            <!-- ุฃุฒุฑุงุฑ ุฅุถุงููุฉ -->
            <div class="mt-8 pt-6 border-t border-gray-200 space-y-3">
              <button onclick="toggleCodeEditor()" class="w-full btn-primary bg-gradient-to-r from-green-500 to-blue-500 text-white py-3 rounded-lg font-bold hover:from-green-600 hover:to-blue-600 shadow-md">
                <i class="fas fa-code ml-2"></i>
                ูุญุฑุฑ ุงูููุฏ ุงูุชูุงุนูู
              </button>
              
              <button onclick="showPage('dashboard')" class="w-full btn-primary bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-lg font-bold hover:from-purple-600 hover:to-pink-600 shadow-md">
                <i class="fas fa-tachometer-alt ml-2"></i>
                ููุญุฉ ุงูุชุญูู
              </button>
            </div>
          </div>
          
          <!-- ูุญุชูู ุงูุฏุฑุณ -->
          <div class="flex-1 flex flex-col">
            <!-- ุดุฑูุท ุฃุฏูุงุช ุงูุฏุฑุณ -->
            <div class="bg-white border-b border-gray-200 p-4 flex items-center justify-between">
              <div class="flex items-center gap-4">
                <button onclick="toggleCourseSidebar()" class="lg:hidden text-gray-600">
                  <i class="fas fa-bars text-xl"></i>
                </button>
                <h2 id="currentLessonTitle" class="text-xl font-bold text-gray-800">ุงุฎุชุฑ ุฏุฑุณุงู ููุจุฏุก</h2>
              </div>
              
              <div class="flex items-center gap-3">
                <button id="prevLessonBtn" onclick="navigateLesson('prev')" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 hidden">
                  <i class="fas fa-arrow-right ml-1"></i>
                  ุงูุณุงุจู
                </button>
                
                <button id="nextLessonBtn" onclick="navigateLesson('next')" class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 hidden">
                  ุงูุชุงูู
                  <i class="fas fa-arrow-left ml-1"></i>
                </button>
                
                <button id="completeLessonBtn" onclick="markCurrentLessonComplete()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 hidden">
                  <i class="fas fa-check ml-1"></i>
                  ุฅุชูุงู ุงูุฏุฑุณ
                </button>
              </div>
            </div>
            
            <!-- ูุญุชูู ุงูุฏุฑุณ ุงูุฃุณุงุณู -->
            <div id="courseContent" class="flex-1 p-6 overflow-y-auto custom-scrollbar">
              <!-- ุณูุชู ุชุญููู ูุญุชูู ุงูุฏุฑุณ ููุง -->
              <div class="max-w-4xl mx-auto py-12 text-center">
                <i class="fas fa-book-open text-6xl text-gray-300 mb-6"></i>
                <h3 class="text-2xl font-bold text-gray-700 mb-4">ูุฑุญุจุงู ุจู ูู ุงูุฏูุฑุฉ</h3>
                <p class="text-gray-600 mb-8">ุงุฎุชุฑ ุฏุฑุณุงู ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ูุจุฏุก ุงูุชุนูู</p>
                <button onclick="toggleCourseSidebar()" class="px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
                  <i class="fas fa-list ml-2"></i>
                  ุนุฑุถ ูุงุฆูุฉ ุงูุฏุฑูุณ
                </button>
              </div>
            </div>
            
            <!-- ูุณู ุงูููุงูุดุฉ -->
            <div id="discussionSection" class="hidden border-t border-gray-200 p-4 bg-gray-50">
              <h4 class="font-bold text-gray-800 mb-3">ููุงูุดุฉ ุงูุฏุฑุณ</h4>
              <div class="space-y-4">
                <div class="bg-white p-4 rounded-lg shadow">
                  <div class="flex items-center gap-3 mb-3">
                    <div class="w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center font-bold">
                      ู
                    </div>
                    <div>
                      <p class="font-semibold">ูุญูุฏ ุฃุญูุฏ</p>
                      <p class="text-xs text-gray-500">ููุฐ ุณุงุนุฉ</p>
                    </div>
                  </div>
                  <p class="text-gray-700">ุดูุฑุงู ุนูู ุงูุฏุฑุณ ุงูุฑุงุฆุนุ ูู ูููู ุดุฑุญ ุงูููุฑุฉ ุงูุซุงูุซุฉ ุจุดูู ุฃูุซุฑ ุชูุตููุงูุ</p>
                </div>
                
                <div class="flex gap-3">
                  <input type="text" placeholder="ุงูุชุจ ุณุคุงูู ุฃู ุชุนูููู..." class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                  <button class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
                    <i class="fas fa-paper-plane"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ูุญุฑุฑ ุงูููุฏ ุงูุชูุงุนูู -->
      <div id="codeEditorView" class="page-content hidden h-full">
        <div class="flex flex-col h-full">
          <!-- ุฑุฃุณ ุงููุญุฑุฑ -->
          <div class="bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 shadow-lg">
            <div class="container mx-auto flex items-center justify-between flex-wrap gap-4">
              <div class="flex items-center gap-4">
                <button onclick="toggleCodeEditor()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition flex items-center gap-2">
                  <i class="fas fa-arrow-right"></i>
                  ุฑุฌูุน ููุฏูุฑุฉ
                </button>
                <h2 class="text-xl md:text-2xl font-bold">ูุญุฑุฑ ุงูููุฏ ุงูุชูุงุนูู ๐ป</h2>
              </div>
              <div class="flex gap-2 flex-wrap">
                <button onclick="selectLanguage('html')" id="btnHtml" class="lang-btn active px-4 py-2 rounded-lg font-semibold transition">
                  <i class="fab fa-html5 ml-1"></i>
                  HTML
                </button>
                <button onclick="selectLanguage('css')" id="btnCss" class="lang-btn px-4 py-2 rounded-lg font-semibold transition">
                  <i class="fab fa-css3-alt ml-1"></i>
                  CSS
                </button>
                <button onclick="selectLanguage('javascript')" id="btnJavascript" class="lang-btn px-4 py-2 rounded-lg font-semibold transition">
                  <i class="fab fa-js ml-1"></i>
                  JavaScript
                </button>
                <button onclick="selectLanguage('python')" id="btnPython" class="lang-btn px-4 py-2 rounded-lg font-semibold transition">
                  <i class="fab fa-python ml-1"></i>
                  Python
                </button>
              </div>
            </div>
          </div>
          
          <!-- ุงููุญุชูู ุงูุฑุฆูุณู ูููุญุฑุฑ -->
          <div class="flex-1 flex flex-col lg:flex-row overflow-hidden">
            <!-- ูุณู ุฅุฏุฎุงู ุงูููุฏ -->
            <div class="w-full lg:w-1/2 flex flex-col border-l border-gray-300">
              <div class="bg-gray-800 text-white px-4 py-3 flex items-center justify-between flex-wrap gap-2">
                <span class="font-semibold">ุงูุชุจ ุงูููุฏ ููุง</span>
                <div class="flex gap-2 flex-wrap">
                  <button onclick="runCode()" class="bg-green-500 hover:bg-green-600 px-4 py-2 rounded-lg font-semibold transition">
                    <i class="fas fa-play ml-1"></i>
                    ุชุดุบูู
                  </button>
                  <button onclick="clearCode()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg font-semibold transition">
                    <i class="fas fa-trash ml-1"></i>
                    ูุณุญ
                  </button>
                  <button onclick="loadExample()" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold transition">
                    <i class="fas fa-lightbulb ml-1"></i>
                    ูุซุงู
                  </button>
                  <button onclick="saveCode()" class="bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded-lg font-semibold transition">
                    <i class="fas fa-save ml-1"></i>
                    ุญูุธ
                  </button>
                </div>
              </div>
              
              <div class="flex-1 relative">
                <textarea id="codeInput" class="w-full h-full p-4 font-mono text-sm bg-gray-900 text-green-400 resize-none focus:outline-none" placeholder="ุงุจุฏุฃ ูุชุงุจุฉ ุงูููุฏ ููุง..." spellcheck="false"></textarea>
                <div class="absolute bottom-2 left-2 bg-gray-800 text-gray-400 px-3 py-1 rounded text-xs">
                  <span id="lineCount">ุงูุณุทุฑ: 1</span> | 
                  <span id="charCount">ุงูุฃุญุฑู: 0</span>
                </div>
              </div>
            </div>
            
            <!-- ูุณู ุงููุชุงุฆุฌ -->
            <div class="w-full lg:w-1/2 flex flex-col">
              <div class="bg-gray-700 text-white px-4 py-3 flex items-center justify-between">
                <span class="font-semibold">ุงููุชูุฌุฉ</span>
                <div class="flex gap-2">
                  <button onclick="clearOutput()" class="bg-gray-600 hover:bg-gray-500 px-3 py-1 rounded text-sm transition">
                    <i class="fas fa-broom ml-1"></i>
                    ูุณุญ ุงููุชูุฌุฉ
                  </button>
                  <button onclick="downloadCode()" class="bg-gray-600 hover:bg-gray-500 px-3 py-1 rounded text-sm transition">
                    <i class="fas fa-download ml-1"></i>
                    ุชุญููู
                  </button>
                </div>
              </div>
              
              <!-- ุฅุฎุฑุงุฌ HTML/CSS/JS -->
              <div id="webOutput" class="flex-1 bg-white hidden">
                <iframe id="outputFrame" class="w-full h-full border-0"></iframe>
              </div>
              
              <!-- ุฅุฎุฑุงุฌ Python/Console -->
              <div id="consoleOutput" class="flex-1 bg-gray-900 text-gray-100 p-4 font-mono text-sm overflow-auto hidden">
                <div id="consoleContent"></div>
              </div>
              
              <!-- ูุตุงุฆุญ ุงูุจุฑูุฌุฉ -->
              <div class="bg-gradient-to-r from-blue-50 to-purple-50 border-t-4 border-blue-500 p-4">
                <h4 class="font-bold text-blue-800 mb-2 flex items-center">
                  <i class="fas fa-info-circle ml-2"></i>
                  <span id="tipTitle">ูุตุงุฆุญ ุงูุจุฑูุฌุฉ</span>
                </h4>
                <p id="codeTip" class="text-sm text-blue-700">ุงุฎุชุฑ ูุบุฉ ุจุฑูุฌุฉ ูุงุจุฏุฃ ุงููุชุงุจุฉ!</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ุตูุญุฉ ุงูููู ุงูุดุฎุตู -->
      <div id="profilePage" class="page-content hidden">
        <div class="container mx-auto px-4 py-8">
          <h2 class="text-3xl font-bold mb-8 text-gray-800">ุงูููู ุงูุดุฎุตู</h2>
          <div class="max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- ูุนูููุงุช ุงููุณุชุฎุฏู -->
            <div class="lg:col-span-2 space-y-6">
              <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-6 text-gray-800">ุงููุนูููุงุช ุงูุดุฎุตูุฉ</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">ุงูุงุณู ุงููุงูู</label>
                    <input type="text" id="profileName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                  </div>
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="profileEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                  </div>
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">ุฑูู ุงููุงุชู</label>
                    <input type="tel" id="profilePhone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                  </div>
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">ุงูุจูุฏ</label>
                    <select id="profileCountry" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                      <option value="">ุงุฎุชุฑ ุงูุจูุฏ</option>
                      <option value="SA">ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ</option>
                      <option value="AE">ุงูุฅูุงุฑุงุช ุงูุนุฑุจูุฉ ุงููุชุญุฏุฉ</option>
                      <option value="EG">ูุตุฑ</option>
                      <option value="QA">ูุทุฑ</option>
                      <option value="KW">ุงููููุช</option>
                      <option value="BH">ุงูุจุญุฑูู</option>
                      <option value="OM">ุนููุงู</option>
                      <option value="JO">ุงูุฃุฑุฏู</option>
                    </select>
                  </div>
                </div>
                
                <div class="mt-6">
                  <label class="block text-gray-700 font-semibold mb-2">ูุจุฐุฉ ุนูู</label>
                  <textarea id="profileBio" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600"></textarea>
                </div>
                
                <div class="mt-6 flex justify-end">
                  <button onclick="updateProfile()" class="px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700">
                    <i class="fas fa-save ml-2"></i>
                    ุญูุธ ุงูุชุบููุฑุงุช
                  </button>
                </div>
              </div>
              
              <!-- ุชุบููุฑ ูููุฉ ุงููุฑูุฑ -->
              <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-6 text-gray-800">ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</h3>
                <div class="space-y-4">
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ</label>
                    <input type="password" id="currentPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                  </div>
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ</label>
                    <input type="password" id="newPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                  </div>
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ</label>
                    <input type="password" id="confirmPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
                  </div>
                  <div class="flex justify-end">
                    <button onclick="changePassword()" class="px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700">
                      <i class="fas fa-key ml-2"></i>
                      ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ ูุงูุฅุญุตุงุฆูุงุช -->
            <div class="space-y-6">
              <!-- ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ -->
              <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-6 text-gray-800">ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ</h3>
                <div class="flex flex-col items-center">
                  <div id="profileAvatar" class="w-32 h-32 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 text-white flex items-center justify-center text-4xl font-bold mb-4">
                    ู
                  </div>
                  <input type="file" id="avatarUpload" accept="image/*" class="hidden">
                  <button onclick="document.getElementById('avatarUpload').click()" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200">
                    <i class="fas fa-upload ml-2"></i>
                    ุชุบููุฑ ุงูุตูุฑุฉ
                  </button>
                  <p class="text-sm text-gray-500 mt-2">ุงูุตูุฑ ุงููุณููุญ ุจูุง: JPG, PNG, GIF (ุงูุญุฏ ุงูุฃูุตู: 2MB)</p>
                </div>
              </div>
              
              <!-- ูุนูููุงุช ุงูุญุณุงุจ -->
              <div class="bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4">ูุนูููุงุช ุงูุญุณุงุจ</h3>
                <div class="space-y-3">
                  <div class="flex justify-between">
                    <span>ุฑูู ุงูุนุถููุฉ:</span>
                    <span class="font-semibold" id="memberId">EDU-001234</span>
                  </div>
                  <div class="flex justify-between">
                    <span>ุชุงุฑูุฎ ุงูุงูุถูุงู:</span>
                    <span class="font-semibold" id="joinDate">01/01/2024</span>
                  </div>
                  <div class="flex justify-between">
                    <span>ุงูุญุงูุฉ:</span>
                    <span class="font-semibold bg-green-100 text-green-800 px-2 py-1 rounded">ูุดุท</span>
                  </div>
                </div>
              </div>
              
              <!-- ุฅุฌุฑุงุกุงุช ุงูุญุณุงุจ -->
              <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4 text-gray-800">ุฅุฌุฑุงุกุงุช ุงูุญุณุงุจ</h3>
                <div class="space-y-3">
                  <button onclick="exportUserData()" class="w-full text-right px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                    <i class="fas fa-download ml-2"></i>
                    ุชุตุฏูุฑ ุจูุงูุงุชู
                  </button>
                  <button onclick="deleteAccount()" class="w-full text-right px-4 py-3 border border-red-300 text-red-600 rounded-lg hover:bg-red-50">
                    <i class="fas fa-trash-alt ml-2"></i>
                    ุญุฐู ุงูุญุณุงุจ
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    
   <!-- ุงูููุชุฑ ุงููุฑู -->
<footer class="w-full bg-gray-900 text-white py-8 relative z-10">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
      <!-- ูุญุชูู ุงูููุชุฑ ูุจูู ููุง ูู -->
      <div>
        <div class="flex items-center gap-3 mb-4">
          <div class="bg-white rounded-lg p-2">
            <svg width="30" height="30" viewBox="0 0 40 40" fill="none">
              <path d="M20 5L35 15V25L20 35L5 25V15L20 5Z" fill="#667eea" />
              <circle cx="20" cy="20" r="6" fill="white" />
            </svg>
          </div>
          <h3 class="text-xl font-bold">ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ</h3>
        </div>
        <p class="text-gray-400">ููุตุฉ ุชุนููููุฉ ุดุงููุฉ ุชูุฏู ุฅูู ูุดุฑ ุงูุนูู ูุงููุนุฑูุฉ ูู ุฌููุน ุงููุฌุงูุงุช ุงูุชูููุฉ ูุงูุนูููุฉ.</p>
      </div>
      
      <div>
        <h4 class="text-lg font-bold mb-4">ุฑูุงุจุท ุณุฑูุนุฉ</h4>
        <ul class="space-y-2">
          <li><a href="#" onclick="showPage('home')" class="text-gray-400 hover:text-white transition">ุงูุฑุฆูุณูุฉ</a></li>
          <li><a href="#" onclick="showPage('courses')" class="text-gray-400 hover:text-white transition">ุงูุฏูุฑุงุช</a></li>
          <li><a href="#" onclick="showPage('about')" class="text-gray-400 hover:text-white transition">ูู ูุญู</a></li>
          <li><a href="#" onclick="showPage('contact')" class="text-gray-400 hover:text-white transition">ุงุชุตู ุจูุง</a></li>
        </ul>
      </div>
      
      <div>
        <h4 class="text-lg font-bold mb-4">ุงูุฏูุฑุงุช</h4>
        <ul class="space-y-2">
          <li><a href="#" onclick="showCourse('frontend')" class="text-gray-400 hover:text-white transition">ุงููุงุฌูุงุช ุงูุฃูุงููุฉ</a></li>
          <li><a href="#" onclick="showCourse('backend')" class="text-gray-400 hover:text-white transition">ุงููุงุฌูุงุช ุงูุฎูููุฉ</a></li>
          <li><a href="#" onclick="showCourse('ai')" class="text-gray-400 hover:text-white transition">ุงูุฐูุงุก ุงูุงุตุทูุงุนู</a></li>
          <li><a href="#" onclick="showCourse('design')" class="text-gray-400 hover:text-white transition">ุงูุชุตููู ุงูุฌุฑุงูููู</a></li>
        </ul>
      </div>
      
      <div>
        <h4 class="text-lg font-bold mb-4">ุชุงุจุนูุง</h4>
        <div class="flex gap-4">
          <a href="https://facebook.com" target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="https://twitter.com" target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-400 transition">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="https://youtube.com" target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-red-600 transition">
            <i class="fab fa-youtube"></i>
          </a>
          <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition">
            <i class="fab fa-linkedin-in"></i>
          </a>
        </div>
      </div>
    </div>
    
    <div class="pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4">
      <p id="copyrightText" class="text-sm text-gray-500">ยฉ 2024 ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ - ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
      <div class="flex gap-6">
        <a href="#" class="text-sm text-gray-500 hover:text-white">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a>
        <a href="#" class="text-sm text-gray-500 hover:text-white">ุดุฑูุท ุงูุงุณุชุฎุฏุงู</a>
        <a href="#" class="text-sm text-gray-500 hover:text-white">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a>
      </div>
    </div>
  </div>
</footer>
    
    <!-- ููุงุฐุฌ ุงูุฏุฎูู ูุงูุชุณุฌูู -->
    
    <!-- ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎูู -->
    <div id="loginModal" class="modal">
      <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full m-4">
        <h2 class="text-3xl font-bold mb-6 text-gray-800 text-center">ุชุณุฌูู ุงูุฏุฎูู</h2>
        <form onsubmit="handleLogin(event)" class="mb-6">
          <div class="mb-4">
            <label for="loginEmail" class="block text-gray-700 font-semibold mb-2">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
            <input type="email" id="loginEmail" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
          </div>
          <div class="mb-6">
            <label for="loginPassword" class="block text-gray-700 font-semibold mb-2">ูููุฉ ุงููุฑูุฑ</label>
            <input type="password" id="loginPassword" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
          </div>
          <button type="submit" class="w-full btn-primary bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-blue-700 mb-4">
            <i class="fas fa-sign-in-alt ml-2"></i>
            ุฏุฎูู
          </button>
        </form>
        
        <div class="text-center mb-4">
          <p class="text-gray-600 mb-4">ุฃู ุชุงุจุน ุจุงุณุชุฎุฏุงู</p>
          <div class="space-y-3">
            <button onclick="handleSocialLogin('google')" class="w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 py-3 rounded-lg font-semibold hover:bg-gray-50 transition">
              <i class="fab fa-google text-red-500"></i>
              ุงููุชุงุจุนุฉ ุจุญุณุงุจ ุฌูุฌู
            </button>
            <button onclick="handleSocialLogin('facebook')" class="w-full flex items-center justify-center gap-3 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition">
              <i class="fab fa-facebook"></i>
              ุงููุชุงุจุนุฉ ุจุญุณุงุจ ููุณุจูู
            </button>
          </div>
        </div>
        
        <div class="text-center mt-6">
          <p class="text-gray-600">ููุณ ูุฏูู ุญุณุงุจุ <button onclick="switchToRegister()" class="text-purple-600 font-semibold hover:underline">ุณุฌู ุงูุขู</button></p>
        </div>
        
        <button onclick="closeModal('login')" class="w-full mt-4 bg-gray-200 text-gray-800 py-2 rounded-lg font-semibold hover:bg-gray-300 transition">
          ุฅุบูุงู
        </button>
      </div>
    </div>
    
    <!-- ูููุฐุฌ ุงูุชุณุฌูู -->
    <div id="registerModal" class="modal">
      <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full m-4">
        <h2 class="text-3xl font-bold mb-6 text-gray-800 text-center">ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ</h2>
        <form onsubmit="handleRegister(event)" class="mb-6">
          <div class="mb-4">
            <label for="registerName" class="block text-gray-700 font-semibold mb-2">ุงูุงุณู ุงููุงูู</label>
            <input type="text" id="registerName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
          </div>
          <div class="mb-4">
            <label for="registerEmail" class="block text-gray-700 font-semibold mb-2">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
            <input type="email" id="registerEmail" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
          </div>
          <div class="mb-6">
            <label for="registerPassword" class="block text-gray-700 font-semibold mb-2">ูููุฉ ุงููุฑูุฑ</label>
            <input type="password" id="registerPassword" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600">
          </div>
          <button type="submit" class="w-full btn-primary bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-blue-700 mb-4">
            <i class="fas fa-user-plus ml-2"></i>
            ุฅูุดุงุก ุญุณุงุจ
          </button>
        </form>
        
        <div class="text-center mb-4">
          <p class="text-gray-600 mb-4">ุฃู ุณุฌู ุจุงุณุชุฎุฏุงู</p>
          <div class="space-y-3">
            <button onclick="handleSocialLogin('google')" class="w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 py-3 rounded-lg font-semibold hover:bg-gray-50 transition">
              <i class="fab fa-google text-red-500"></i>
              ุงูุชุณุฌูู ุจุญุณุงุจ ุฌูุฌู
            </button>
            <button onclick="handleSocialLogin('facebook')" class="w-full flex items-center justify-center gap-3 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition">
              <i class="fab fa-facebook"></i>
              ุงูุชุณุฌูู ุจุญุณุงุจ ููุณุจูู
            </button>
          </div>
        </div>
        
        <div class="text-center mt-6">
          <p class="text-gray-600">ูุฏูู ุญุณุงุจ ุจุงููุนูุ <button onclick="switchToLogin()" class="text-purple-600 font-semibold hover:underline">ุณุฌู ุงูุฏุฎูู</button></p>
        </div>
        
        <button onclick="closeModal('register')" class="w-full mt-4 bg-gray-200 text-gray-800 py-2 rounded-lg font-semibold hover:bg-gray-300 transition">
          ุฅุบูุงู
        </button>
      </div>
    </div>
  </div>
  
  <script>
    // ============================================
    // ุชููุฆุฉ Firebase
    // ============================================
    const firebaseConfig = {
      apiKey: "AIzaSyBRAl9w9bOOe_WhzkddEYBTg6YUYJAbOI4",
      authDomain: "edupf-1137c.firebaseapp.com",
      projectId: "edupf-1137c",
      storageBucket: "edupf-1137c.firebasestorage.app",
      messagingSenderId: "257977003914",
      appId: "1:257977003914:web:c2bbe4f84fe9e2a230e273",
      measurementId: "G-JQ239795ZK"
    };
    
    // ูุชุบูุฑุงุช Firebase
    let firebaseInitialized = false;
    let db, auth, storage;
    let currentUser = null;
    let currentCourse = null;
    let currentLessonIndex = 0;
    let currentCourseType = null;
    
    // ============================================
    // ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฏูุฑุงุช ูุงูุฏุฑูุณ
    // ============================================
    const coursesData = {
      frontend: {
        title: "ุชุทููุฑ ุงููุงุฌูุงุช ุงูุฃูุงููุฉ",
        description: "ุชุนูู ููููุฉ ุจูุงุก ูุชุตููู ูุงุฌูุงุช ุงูููุจ ุงูุชูุงุนููุฉ ุจุงุณุชุฎุฏุงู HTML, CSS, JavaScript ูุฃุทุฑ ุงูุนูู ุงูุญุฏูุซุฉ",
        icon: "fas fa-code",
        color: "from-purple-500 to-pink-500",
        lessons: [
          { 
            id: 'fe1', 
            title: 'ููุฏูุฉ ูู HTML', 
            type: 'html',
            url: 'https://github.com/mohamed594261/edu/blob/main/courses/frontend/lesson1.html',
            duration: '30 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'fe2', 
            title: 'ุฃุณุงุณูุงุช CSS', 
            type: 'html',
            url: 'https://raw.githubusercontent.com/mohamed594261/edu/main/courses/frontend/lesson2.html',
            duration: '45 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'fe3', 
            title: 'JavaScript ูููุจุชุฏุฆูู', 
            type: 'html',
            url: 'https://example.com/lesson3',
            duration: '60 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'fe4', 
            title: 'ููุฏูุฉ ูู React', 
            type: 'video',
            url: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
            duration: '90 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'fe5', 
            title: 'ูุดุฑูุน ุชุทุจููู', 
            type: 'pdf',
            url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf',
            duration: '120 ุฏูููุฉ',
            completed: false
          }
        ]
      },
      backend: {
        title: "ุชุทููุฑ ุงููุงุฌูุงุช ุงูุฎูููุฉ",
        description: "ุชุนูู ุจูุงุก ุชุทุจููุงุช ุงูููุจ ุงูุฎูููุฉ ุจุงุณุชุฎุฏุงู Node.js, Python, PHP ูููุงุนุฏ ุงูุจูุงูุงุช",
        icon: "fas fa-server",
        color: "from-blue-500 to-cyan-500",
        lessons: [
          { 
            id: 'be1', 
            title: 'ููุฏูุฉ ูู Node.js', 
            type: 'html',
            url: '',
            duration: '40 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'be2', 
            title: 'ููุงุนุฏ ุงูุจูุงูุงุช SQL', 
            type: 'pdf',
            url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf',
            duration: '60 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'be3', 
            title: 'ุจูุงุก RESTful APIs', 
            type: 'video',
            url: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
            duration: '75 ุฏูููุฉ',
            completed: false
          }
        ]
      },
      ai: {
        title: "ุงูุฐูุงุก ุงูุงุตุทูุงุนู",
        description: "ุชุนูู ุฃุณุงุณูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ ุชุนูู ุงูุขูุฉุ ูุงูุชุนูู ุงูุนููู ุจุงุณุชุฎุฏุงู Python",
        icon: "fas fa-robot",
        color: "from-green-500 to-teal-500",
        lessons: [
          { 
            id: 'ai1', 
            title: 'ููุฏูุฉ ูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู', 
            type: 'html',
            url: '',
            duration: '50 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'ai2', 
            title: 'Python ููุฐูุงุก ุงูุงุตุทูุงุนู', 
            type: 'html',
            url: '',
            duration: '90 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'ai3', 
            title: 'ุฎูุงุฑุฒููุงุช ุชุนูู ุงูุขูุฉ', 
            type: 'pdf',
            url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf',
            duration: '120 ุฏูููุฉ',
            completed: false
          }
        ]
      },
      design: {
        title: "ุงูุชุตููู ุงูุฌุฑุงูููู",
        description: "ุชุนูู ุฃุณุงุณูุงุช ุงูุชุตููู ุงูุฌุฑุงููููุ UI/UX Design ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุซู Photoshop ูIllustrator",
        icon: "fas fa-paint-brush",
        color: "from-red-500 to-orange-500",
        lessons: [
          { 
            id: 'de1', 
            title: 'ุฃุณุงุณูุงุช ุงูุชุตููู', 
            type: 'html',
            url: '',
            duration: '45 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'de2', 
            title: 'ุงูุชุตููู ุจุงุณุชุฎุฏุงู Photoshop', 
            type: 'video',
            url: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
            duration: '90 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'de3', 
            title: 'ุชุตููู ูุงุฌูุงุช ุงููุณุชุฎุฏู', 
            type: 'pdf',
            url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf',
            duration: '75 ุฏูููุฉ',
            completed: false
          }
        ]
      },
      math: {
        title: "ุงูุฑูุงุถูุงุช ููุจุฑูุฌุฉ",
        description: "ุฃุณุงุณูุงุช ุงูุฑูุงุถูุงุช ุงููุทููุจุฉ ููุจุฑูุฌุฉ ูุงูุฐูุงุก ุงูุงุตุทูุงุนู",
        icon: "fas fa-calculator",
        color: "from-yellow-500 to-amber-500",
        lessons: [
          { 
            id: 'ma1', 
            title: 'ุฏุฑุณ1: ุงูุฃุนุฏุงุฏ ูู 1:5', 
            type: 'html',
            url: 'https://github.com/mohamed594261/edu/blob/main/courses/maths/lesson1.html',
            duration: '20 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'ma2', 
            title: 'ุฏุฑุณ ุงูุฃุนุฏุงุฏ ูู 1:10', 
            type: 'html',
            url: 'https://github.com/mohamed594261/edu/blob/main/courses/maths/lesson2.html',
            duration: '25 ุฏูููุฉ',
            completed: false
          },
          { 
            id: 'ma3', 
            title: 'ุงูุฅุญุตุงุก ูุงูุงุญุชูุงูุงุช', 
            type: 'html',
            url: '',
            duration: '60 ุฏูููุฉ',
            completed: false
          }
        ]
      }
    };
    
    // ============================================
    // ูุธุงุฆู Firebase
    // ============================================
    function initializeFirebase() {
      try {
        if (firebaseConfig.apiKey === "AIzaSyBRAl9w9bOOe_WhzkddEYBTg6YUYJAbOI4") {
          firebase.initializeApp(firebaseConfig);
          db = firebase.firestore();
          auth = firebase.auth();
          storage = firebase.storage();
          firebaseInitialized = true;
          
          console.log('โ ุชู ุงูุงุชุตุงู ุจู Firebase ุจูุฌุงุญ!');
          
          // ูุฑุงูุจุฉ ุญุงูุฉ ุงููุณุชุฎุฏู
          auth.onAuthStateChanged((user) => {
            currentUser = user;
            updateUserUI(user);
            
            if (user) {
              loadUserProgress();
              updateDashboardStats();
            }
          });
          
          return true;
        } else {
          throw new Error("ูุฑุฌู ุงุณุชุฎุฏุงู ููุงุชูุญ Firebase ุงูุตุญูุญุฉ");
        }
      } catch (error) {
        console.error('โ๏ธ ุฎุทุฃ ูู Firebase:', error.message);
        showNotification('ุชุญุฐูุฑ: ูู ูุชู ุฑุจุท Firebase ุจุดูู ุตุญูุญ', 'warning');
        return false;
      }
    }
    
    // ============================================
    // ูุธุงุฆู ูุงุฌูุฉ ุงููุณุชุฎุฏู
    // ============================================
    function updateUserUI(user) {
      if (user) {
        document.getElementById('userInfo').style.display = 'flex';
        document.getElementById('authButtons').style.display = 'none';
        
        const userName = user.displayName || user.email.split('@')[0];
        document.getElementById('userName').textContent = userName;
        document.getElementById('userEmail').textContent = user.email;
        
        // ุชุญุฏูุซ ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ
        const avatar = document.getElementById('userAvatar');
        if (user.displayName) {
          avatar.textContent = user.displayName.charAt(0);
        } else {
          avatar.textContent = userName.charAt(0);
        }
        
        // ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู
        if (document.getElementById('profileName')) {
          document.getElementById('profileName').value = user.displayName || '';
          document.getElementById('profileEmail').value = user.email || '';
          document.getElementById('profileAvatar').textContent = userName.charAt(0);
        }
      } else {
        document.getElementById('userInfo').style.display = 'none';
        document.getElementById('authButtons').style.display = 'flex';
      }
    }
    
    function showNotification(message, type = 'info') {
      const types = {
        info: 'bg-blue-500',
        success: 'bg-green-500',
        warning: 'bg-yellow-500',
        error: 'bg-red-500'
      };
      
      const container = document.getElementById('notificationContainer');
      const notification = document.createElement('div');
      notification.className = `notification ${types[type]} text-white p-4 rounded-lg shadow-lg flex items-center justify-between`;
      notification.innerHTML = `
        <div class="flex items-center">
          <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : type === 'warning' ? 'exclamation-circle' : 'info-circle'} ml-2"></i>
          <span>${message}</span>
        </div>
        <button onclick="this.parentElement.remove()" class="text-white hover:text-gray-200">
          <i class="fas fa-times"></i>
        </button>
      `;
      
      container.appendChild(notification);
      
      setTimeout(() => {
        if (notification.parentElement) {
          notification.remove();
        }
      }, 5000);
    }
    
    function showPage(page) {
      document.querySelectorAll('.page-content').forEach(el => el.classList.add('hidden'));
      
      switch(page) {
        case 'home':
          document.getElementById('homePage').classList.remove('hidden');
          break;
        case 'courses':
          document.getElementById('coursesPage').classList.remove('hidden');
          loadAllCourses();
          break;
        case 'about':
          document.getElementById('aboutPage').classList.remove('hidden');
          break;
        case 'contact':
          document.getElementById('contactPage').classList.remove('hidden');
          break;
        case 'dashboard':
          document.getElementById('dashboardPage').classList.remove('hidden');
          break;
        case 'profile':
          document.getElementById('profilePage').classList.remove('hidden');
          break;
      }
    }
    
    function toggleMobileNav() {
      const mobileNav = document.getElementById('mobileNav');
      mobileNav.classList.toggle('hidden');
    }
    
    function toggleMobileSidebar() {
      const sidebar = document.getElementById('courseSidebar');
      sidebar.classList.toggle('hidden');
      sidebar.classList.toggle('fixed');
      sidebar.classList.toggle('inset-0');
      sidebar.classList.toggle('z-50');
    }
    
    function toggleCourseSidebar() {
      const sidebar = document.getElementById('courseSidebar');
      if (window.innerWidth < 1024) {
        sidebar.classList.toggle('hidden');
      }
    }
    
    // ============================================
    // ูุธุงุฆู ุงูุฏูุฑุงุช ูุงูุฏุฑูุณ
    // ============================================
    function showCourse(courseType) {
      if (!currentUser && courseType !== 'math') {
        showNotification('ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ูุนุฑุถ ูุญุชูู ุงูุฏูุฑุฉ', 'warning');
        openModal('login');
        return;
      }
      
      currentCourseType = courseType;
      currentCourse = coursesData[courseType];
      currentLessonIndex = 0;
      
      // ุฅุฎูุงุก ุฌููุน ุงูุตูุญุงุช ูุฅุธูุงุฑ ุตูุญุฉ ุงูุฏูุฑุฉ
      document.querySelectorAll('.page-content').forEach(el => el.classList.add('hidden'));
      document.getElementById('courseView').classList.remove('hidden');
      
      // ุชุญุฏูุซ ุนููุงู ุงูุฏูุฑุฉ
      document.getElementById('courseTitle').textContent = currentCourse.title;
      
      // ุชุญููู ูุงุฆูุฉ ุงูุฏุฑูุณ
      loadLessonsList();
      
      // ุชุญููู ุฃูู ุฏุฑุณ ุฅุฐุง ูุงู ููุงู ุฏุฑูุณ
      if (currentCourse.lessons.length > 0) {
        loadLesson(currentCourse.lessons[0], 0);
      }
    }
    
    function loadLessonsList() {
      const lessonsList = document.getElementById('lessonsList');
      lessonsList.innerHTML = '';
      
      currentCourse.lessons.forEach((lesson, index) => {
        const lessonItem = document.createElement('div');
        lessonItem.className = 'lesson-item p-4 mb-2 rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 border border-gray-200';
        lessonItem.innerHTML = `
          <div class="flex items-center gap-3">
            <div class="file-icon ${lesson.type}">
              <i class="fas fa-${getFileIcon(lesson.type)}"></i>
            </div>
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">${lesson.title}</h4>
              <div class="flex items-center gap-3 mt-1">
                <span class="text-xs text-gray-500"><i class="fas fa-clock ml-1"></i> ${lesson.duration}</span>
                ${lesson.completed ? '<span class="text-xs text-green-600"><i class="fas fa-check-circle ml-1"></i> ููุชูู</span>' : ''}
              </div>
            </div>
            ${lesson.completed ? '<span class="text-green-500 text-xl">โ</span>' : ''}
          </div>
        `;
        
        lessonItem.onclick = () => loadLesson(lesson, index);
        lessonsList.appendChild(lessonItem);
      });
      
      // ุชุญุฏูุซ ุดุฑูุท ุงูุชูุฏู
      updateProgressBar();
    }
    
    function getFileIcon(fileType) {
      switch(fileType) {
        case 'html': return 'code';
        case 'pdf': return 'file-pdf';
        case 'video': return 'video';
        case 'audio': return 'music';
        case 'image': return 'image';
        case 'document': return 'file-alt';
        default: return 'external-link-alt';
      }
    }
    
    function loadLesson(lesson, index) {
      currentLessonIndex = index;
      
      // ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู
      document.getElementById('currentLessonTitle').textContent = lesson.title;
      
      // ุฅุธูุงุฑ ุฃุฒุฑุงุฑ ุงูุชููู
      document.getElementById('prevLessonBtn').classList.toggle('hidden', index === 0);
      document.getElementById('nextLessonBtn').classList.toggle('hidden', index === currentCourse.lessons.length - 1);
      document.getElementById('completeLessonBtn').classList.remove('hidden');
      
      // ุชุญุฏูุซ ุญุงูุฉ ุฒุฑ ุงูุฅุชูุงู
      const completeBtn = document.getElementById('completeLessonBtn');
      if (lesson.completed) {
        completeBtn.innerHTML = '<i class="fas fa-check ml-1"></i> ุชู ุงูุฅูุฌุงุฒ โ';
        completeBtn.disabled = true;
        completeBtn.classList.remove('hover:bg-green-700');
        completeBtn.classList.add('bg-green-500', 'opacity-75', 'cursor-not-allowed');
      } else {
        completeBtn.innerHTML = '<i class="fas fa-check ml-1"></i> ุฅุชูุงู ุงูุฏุฑุณ';
        completeBtn.disabled = false;
        completeBtn.classList.remove('bg-green-500', 'opacity-75', 'cursor-not-allowed');
        completeBtn.classList.add('bg-green-600', 'hover:bg-green-700');
      }
      
      // ุชุญููู ูุญุชูู ุงูุฏุฑุณ
      const contentDiv = document.getElementById('courseContent');
      
      if (lesson.url && lesson.url.trim() !== '') {
        // ุนุฑุถ ุงููุญุชูู ุจูุงุกู ุนูู ููุน ุงูููู
        switch(lesson.type) {
          case 'html':
            contentDiv.innerHTML = `
              <div class="h-full">
                <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-r-4 border-purple-500 rounded-xl p-6 mb-6">
                  <h3 class="text-2xl font-bold text-gray-800 mb-2">${lesson.title}</h3>
                  <p class="text-gray-600 mb-4">${lesson.duration} โข ${getFileTypeName(lesson.type)}</p>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                  <div style="height: 600px;">
                    <iframe 
                      src="${lesson.url}" 
                      class="w-full h-full border-0 rounded-lg"
                      title="${lesson.title}"
                      sandbox="allow-same-origin allow-scripts allow-forms allow-popups"
                      loading="lazy"
                    ></iframe>
                  </div>
                </div>
                
                <div class="flex justify-between items-center">
                  <button onclick="window.open('${lesson.url}', '_blank')" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                    <i class="fas fa-external-link-alt ml-2"></i>
                    ูุชุญ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ
                  </button>
                  
                  <div class="text-sm text-gray-600">
                    <i class="fas fa-info-circle ml-2"></i>
                    ููููู ุงูุชูุงุนู ูุน ุงููุญุชูู ูุจุงุดุฑุฉ ูู ุงูุฅุทุงุฑ ุฃุนูุงู
                  </div>
                </div>
              </div>
            `;
            break;
            
          case 'pdf':
            contentDiv.innerHTML = `
              <div class="h-full">
                <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-r-4 border-purple-500 rounded-xl p-6 mb-6">
                  <h3 class="text-2xl font-bold text-gray-800 mb-2">${lesson.title}</h3>
                  <p class="text-gray-600 mb-4">${lesson.duration} โข ููู PDF</p>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 mb-6" style="height: 600px;">
                  <iframe 
                    src="https://docs.google.com/viewer?url=${encodeURIComponent(lesson.url)}&embedded=true" 
                    class="w-full h-full border-0 rounded-lg"
                    title="${lesson.title}"
                  ></iframe>
                </div>
                
                <div class="flex justify-between items-center">
                  <button onclick="window.open('${lesson.url}', '_blank')" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
                    <i class="fas fa-download ml-2"></i>
                    ุชุญููู ุงูููู
                  </button>
                  
                  <div class="text-sm text-gray-600">
                    <i class="fas fa-info-circle ml-2"></i>
                    ููููู ุชูุฒูู ุงูููู PDF ููุงุทูุงุน ุนููู ุฏูู ุงุชุตุงู ุจุงูุฅูุชุฑูุช
                  </div>
                </div>
              </div>
            `;
            break;
            
          case 'video':
            contentDiv.innerHTML = `
              <div class="h-full">
                <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-r-4 border-purple-500 rounded-xl p-6 mb-6">
                  <h3 class="text-2xl font-bold text-gray-800 mb-2">${lesson.title}</h3>
                  <p class="text-gray-600 mb-4">${lesson.duration} โข ููุฏูู ุชุนูููู</p>
                </div>
                
                <div class="bg-gray-900 rounded-xl overflow-hidden mb-6" style="height: 500px;">
                  <iframe 
                    src="${lesson.url}" 
                    class="w-full h-full"
                    title="${lesson.title}"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                  ></iframe>
                </div>
                
                <div class="text-sm text-gray-600">
                  <i class="fas fa-info-circle ml-2"></i>
                  ููููู ุงูุชุญูู ุจุงูููุฏูู ุจุงุณุชุฎุฏุงู ุฃุฒุฑุงุฑ ุงูุชุดุบูู ูุงูุชููู ูุงูุนุฑุถ ุงููุงูู
                </div>
              </div>
            `;
            break;
            
          default:
            contentDiv.innerHTML = `
              <div class="text-center py-12">
                <i class="fas fa-external-link-alt text-6xl text-gray-300 mb-6"></i>
                <h3 class="text-2xl font-bold text-gray-700 mb-4">${lesson.title}</h3>
                <p class="text-gray-600 mb-8">ูุฐุง ุงููุญุชูู ูุชุงุญ ุนุจุฑ ุฑุงุจุท ุฎุงุฑุฌู</p>
                <button onclick="window.open('${lesson.url}', '_blank')" class="px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-bold hover:from-purple-700 hover:to-blue-700">
                  <i class="fas fa-external-link-alt ml-2"></i>
                  ุงูุชุญ ุงูุฑุงุจุท
                </button>
              </div>
            `;
        }
      } else {
        // ุนุฑุถ ูุญุชูู ุงูุชุฑุงุถู
        contentDiv.innerHTML = `
          <div class="max-w-4xl mx-auto">
            <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-r-4 border-purple-500 rounded-xl p-8 mb-8">
              <h2 class="text-3xl font-bold text-gray-800 mb-4">${lesson.title}</h2>
              <div class="flex items-center gap-4 mb-6">
                <span class="px-3 py-1 bg-purple-100 text-purple-600 rounded-full text-sm font-semibold">
                  <i class="fas fa-clock ml-1"></i> ${lesson.duration}
                </span>
                <span class="px-3 py-1 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold">
                  <i class="fas fa-book ml-1"></i> ${getFileTypeName(lesson.type)}
                </span>
              </div>
              <p class="text-gray-700 text-lg">ูุญุชูู ูุฐุง ุงูุฏุฑุณ ููุฏ ุงูุฅุนุฏุงุฏ ูุณูุชููุฑ ูุฑูุจุงู. ููููู ุชุตูุญ ุงูุฏุฑูุณ ุงูุฃุฎุฑู ุงููุชุงุญุฉ ูู ูุฐู ุงูุฏูุฑุฉ.</p>
            </div>
            
            <div class="bg-white rounded-xl shadow-lg p-8">
              <h3 class="text-2xl font-bold text-gray-800 mb-6">ุฏุฑูุณ ูุดุงุจูุฉ ูุฏ ุชููู</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                ${currentCourse.lessons.filter(l => l.url && l.url.trim() !== '' && l.id !== lesson.id).slice(0, 4).map(l => `
                  <div class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer" onclick="loadLesson(coursesData['${currentCourseType}'].lessons[${currentCourse.lessons.findIndex(les => les.id === l.id)}], ${currentCourse.lessons.findIndex(les => les.id === l.id)})">
                    <h4 class="font-semibold text-gray-800 mb-2">${l.title}</h4>
                    <div class="flex items-center justify-between">
                      <span class="text-sm text-gray-500">${l.duration}</span>
                      <span class="text-sm text-purple-600">ุนุฑุถ</span>
                    </div>
                  </div>
                `).join('')}
              </div>
            </div>
          </div>
        `;
      }
      
      // ุฅุธูุงุฑ ูุณู ุงูููุงูุดุฉ ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู
      if (currentUser) {
        document.getElementById('discussionSection').classList.remove('hidden');
      }
    }
    
    function getFileTypeName(type) {
      switch(type) {
        case 'html': return 'ุตูุญุฉ ููุจ';
        case 'pdf': return 'ููู PDF';
        case 'video': return 'ููุฏูู';
        case 'audio': return 'ููู ุตูุชู';
        case 'image': return 'ุตูุฑุฉ';
        case 'document': return 'ูุณุชูุฏ';
        default: return 'ุฑุงุจุท ุฎุงุฑุฌู';
      }
    }
    
    function navigateLesson(direction) {
      let newIndex = currentLessonIndex;
      
      if (direction === 'next' && currentLessonIndex < currentCourse.lessons.length - 1) {
        newIndex = currentLessonIndex + 1;
      } else if (direction === 'prev' && currentLessonIndex > 0) {
        newIndex = currentLessonIndex - 1;
      }
      
      if (newIndex !== currentLessonIndex) {
        loadLesson(currentCourse.lessons[newIndex], newIndex);
      }
    }
    
    function updateProgressBar() {
      if (!currentCourse) return;
      
      const completedLessons = currentCourse.lessons.filter(lesson => lesson.completed).length;
      const totalLessons = currentCourse.lessons.length;
      const percentage = totalLessons > 0 ? Math.round((completedLessons / totalLessons) * 100) : 0;
      
      document.getElementById('progressPercentage').textContent = `${percentage}%`;
      document.getElementById('progressBarFill').style.width = `${percentage}%`;
    }
    
    async function markCurrentLessonComplete() {
      if (!currentCourse || !currentCourse.lessons[currentLessonIndex]) return;
      
      const lesson = currentCourse.lessons[currentLessonIndex];
      
      // ุชุญุฏูุซ ุงูุญุงูุฉ ูุญููุงู
      lesson.completed = true;
      
      // ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู
      const completeBtn = document.getElementById('completeLessonBtn');
      completeBtn.innerHTML = '<i class="fas fa-check ml-1"></i> ุชู ุงูุฅูุฌุงุฒ โ';
      completeBtn.disabled = true;
      completeBtn.classList.remove('hover:bg-green-700');
      completeBtn.classList.add('bg-green-500', 'opacity-75', 'cursor-not-allowed');
      
      // ุชุญุฏูุซ ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
      loadLessonsList();
      
      // ุญูุธ ุงูุชูุฏู ูู Firebase ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู
      if (firebaseInitialized && currentUser) {
        try {
          await db.collection('users')
            .doc(currentUser.uid)
            .collection('progress')
            .doc(lesson.id)
            .set({
              completed: true,
              courseType: currentCourseType,
              lessonTitle: lesson.title,
              completedAt: firebase.firestore.FieldValue.serverTimestamp()
            });
          
          showNotification('ุชู ุญูุธ ุชูุฏูู ุจูุฌุงุญ! ๐', 'success');
          
          // ุชุญุฏูุซ ููุญุฉ ุงูุชุญูู
          updateDashboardStats();
        } catch (error) {
          console.error('ุฎุทุฃ ูู ุญูุธ ุงูุชูุฏู:', error);
          showNotification('ุชู ูุถุน ุนูุงูุฉ ุงูุฅูุฌุงุฒ ูุญููุงู', 'info');
        }
      } else {
        showNotification('ุชู ูุถุน ุนูุงูุฉ ุฅุชูุงู ููุฏุฑุณ โ', 'info');
      }
      
      // ุฅุฐุง ูุงู ูุฐุง ูู ุขุฎุฑ ุฏุฑุณ
      if (currentLessonIndex === currentCourse.lessons.length - 1) {
        setTimeout(() => {
          showNotification('๐ ูุจุฑูู! ููุฏ ุฃูููุช ุฌููุน ุฏุฑูุณ ูุฐู ุงูุฏูุฑุฉ!', 'success');
        }, 1000);
      }
    }
    
    // ============================================
    // ูุธุงุฆู ูุญุฑุฑ ุงูููุฏ
    // ============================================
    let currentLanguage = 'html';
    let htmlCode = '';
    let cssCode = '';
    let jsCode = '';
    
    function toggleCodeEditor() {
      const codeEditorView = document.getElementById('codeEditorView');
      const courseView = document.getElementById('courseView');
      
      if (codeEditorView.classList.contains('hidden')) {
        document.querySelectorAll('.page-content').forEach(el => el.classList.add('hidden'));
        codeEditorView.classList.remove('hidden');
      } else {
        codeEditorView.classList.add('hidden');
        courseView.classList.remove('hidden');
      }
    }
    
    function selectLanguage(lang) {
      currentLanguage = lang;
      
      // ุชุญุฏูุซ ุงูุฃุฒุฑุงุฑ ุงููุดุทุฉ
      document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
      const btnId = 'btn' + lang.charAt(0).toUpperCase() + lang.slice(1);
      document.getElementById(btnId).classList.add('active');
      
      // ุชุญููู ุงูููุฏ ุงูููุงุณุจ
      const codeInput = document.getElementById('codeInput');
      if (lang === 'html') codeInput.value = htmlCode;
      else if (lang === 'css') codeInput.value = cssCode;
      else if (lang === 'javascript') codeInput.value = jsCode;
      else codeInput.value = '';
      
      // ุชุญุฏูุซ ุงููุตุงุฆุญ
      updateCodeTips();
      
      // ุชุญุฏูุซ ุนุฏุฏ ุงูุฃุณุทุฑ ูุงูุฃุญุฑู
      updateLineCount();
    }
    
    function updateCodeTips() {
      const tips = {
        html: {
          title: 'ูุตุงุฆุญ HTML',
          tip: 'HTML ูู ูุบุฉ ุจูุงุก ุตูุญุงุช ุงูููุจ. ุงุณุชุฎุฏู ุงููุณูู ุงูููุงุณุจุฉ ููุนูุงุตุฑ ูุซู <h1> ููุนูุงูููุ <p> ููููุฑุงุชุ ู <button> ููุฃุฒุฑุงุฑ.'
        },
        css: {
          title: 'ูุตุงุฆุญ CSS',
          tip: 'CSS ุชูุณุชุฎุฏู ูุชูุณูู ุตูุญุงุช ุงูููุจ. ุฌุฑุจ ุงูุฃููุงูุ ุงูุฎุทูุทุ ูุงูุงูุชูุงูุงุช ูุฌุนู ูููุนู ุฌุฐุงุจุงู!'
        },
        javascript: {
          title: 'ูุตุงุฆุญ JavaScript',
          tip: 'JavaScript ุชุฌุนู ูููุนู ุชูุงุนููุงู. ุงุณุชุฎุฏู console.log() ูุทุจุงุนุฉ ุงููุชุงุฆุฌ ูุชุฌูุจ alert() ูู ุงูุชุทุจููุงุช ุงูุญุฏูุซุฉ.'
        },
        python: {
          title: 'ูุตุงุฆุญ Python',
          tip: 'Python ูุบุฉ ูููุฉ ูุณููุฉ ุงูุชุนูู. ุงุณุชุฎุฏู print() ูุทุจุงุนุฉ ุงููุชุงุฆุฌ ู def ูุชุนุฑูู ุงูุฏูุงู.'
        }
      };
      
      const tip = tips[currentLanguage];
      if (tip) {
        document.getElementById('tipTitle').textContent = tip.title;
        document.getElementById('codeTip').textContent = tip.tip;
      }
    }
    
    function runCode() {
      const code = document.getElementById('codeInput').value;
      
      if (currentLanguage === 'html') {
        htmlCode = code;
        document.getElementById('webOutput').classList.remove('hidden');
        document.getElementById('consoleOutput').classList.add('hidden');
        
        const iframe = document.getElementById('outputFrame');
        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
        iframeDoc.open();
        iframeDoc.write(code);
        iframeDoc.close();
      } 
      else if (currentLanguage === 'css') {
        cssCode = code;
        document.getElementById('webOutput').classList.remove('hidden');
        document.getElementById('consoleOutput').classList.add('hidden');
        
        const fullHTML = `
          <!DOCTYPE html>
          <html>
          <head>
            <style>${cssCode}</style>
          </head>
          <body>
            ${htmlCode || '<h1 style="padding: 50px; text-align: center; color: #666;">ุฃุถู ููุฏ HTML ุฃููุงู</h1><p style="text-align: center; color: #888;">ุงุฐูุจ ุฅูู HTML ูุงูุชุจ ุจุนุถ ุงูููุฏ</p>'}
          </body>
          </html>
        `;
        
        const iframe = document.getElementById('outputFrame');
        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
        iframeDoc.open();
        iframeDoc.write(fullHTML);
        iframeDoc.close();
      }
      else if (currentLanguage === 'javascript') {
        jsCode = code;
        document.getElementById('webOutput').classList.remove('hidden');
        document.getElementById('consoleOutput').classList.add('hidden');
        
        const fullHTML = `
          <!DOCTYPE html>
          <html>
          <head>
            <style>${cssCode}</style>
          </head>
          <body>
            ${htmlCode || '<div id="output" style="padding: 20px;"></div>'}
            <script>
              const originalConsoleLog = console.log;
              console.log = function(...args) {
                originalConsoleLog.apply(console, args);
                window.parent.postMessage({type: 'console', data: args.join(' ')}, '*');
              };
              
              try {
                ${jsCode}
              } catch(e) {
                window.parent.postMessage({type: 'error', data: e.message}, '*');
              }
            <\/script>
          </body>
          </html>
        `;
        
        const iframe = document.getElementById('outputFrame');
        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
        iframeDoc.open();
        iframeDoc.write(fullHTML);
        iframeDoc.close();
      }
      else if (currentLanguage === 'python') {
        document.getElementById('webOutput').classList.add('hidden');
        document.getElementById('consoleOutput').classList.remove('hidden');
        
        const consoleContent = document.getElementById('consoleContent');
        consoleContent.innerHTML = '<div class="text-yellow-400 mb-2">ุฌุงุฑู ุชุดุบูู ููุฏ Python...</div>';
        
        setTimeout(() => {
          const lines = code.split('\n');
          let output = '';
          
          lines.forEach(line => {
            if (line.trim().startsWith('print(')) {
              const match = line.match(/print\((.*)\)/);
              if (match) {
                try {
                  let content = match[1].trim();
                  content = content.replace(/f"([^"]*)"/g, (_, str) => {
                    return '"' + str.replace(/\{([^}]+)\}/g, (_, v) => `[${v}]`) + '"';
                  });
                  content = content.replace(/['"]/g, '');
                  output += `<div class="text-green-400">>>> ${content}</div>`;
                } catch (e) {
                  output += `<div class="text-green-400">>>> ${match[1]}</div>`;
                }
              }
            }
          });
          
          if (!output) {
            output = '<div class="text-gray-400">ูุง ุชูุฌุฏ ูุชุงุฆุฌ ููุทุจุงุนุฉ. ุงุณุชุฎุฏู print() ูุนุฑุถ ุงููุชุงุฆุฌ.</div>';
          }
          
          consoleContent.innerHTML = output + '<div class="text-green-400 mt-4">โ ุชู ุงูุชูููุฐ ุจูุฌุงุญ!</div>';
        }, 500);
      }
    }
    
    function clearCode() {
      document.getElementById('codeInput').value = '';
      if (currentLanguage === 'html') htmlCode = '';
      else if (currentLanguage === 'css') cssCode = '';
      else if (currentLanguage === 'javascript') jsCode = '';
      updateLineCount();
    }
    
    function clearOutput() {
      const iframe = document.getElementById('outputFrame');
      const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
      iframeDoc.open();
      iframeDoc.write('');
      iframeDoc.close();
      
      document.getElementById('consoleContent').innerHTML = '';
    }
    
    function loadExample() {
      const examples = {
        html: `<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุตูุญุฉ ุนุฑุจูุฉ</title>
    <style>
        body {
            font-family: 'Cairo', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 50px;
            margin: 0;
        }
        
        h1 {
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        p {
            font-size: 1.2em;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }
        
        button {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <h1>ูุฑุญุจุงู ุจู ูู ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ! ๐</h1>
    <p>ูุฐู ุตูุญุฉ HTML ุนุฑุจูุฉ ุจุณูุทุฉ ุชุณุชุฎุฏู ุชุฏุฑุฌ ุฃููุงู ุฌููู ูุชุตููู ุนุตุฑู. ุฌุฑุจ ุชุนุฏูู ุงูุฃููุงู ุฃู ุงููุตูุต!</p>
    <button onclick="alert('ุฃููุงู ูุณููุงู! ูุฐู ุฑุณุงูุฉ ูู JavaScript')">ุงุถุบุท ููุง ููุชุฌุฑุจุฉ</button>
    
    <script>
        console.log('ุตูุญุฉ HTML ุฌุงูุฒุฉ!');
    <\/script>
</body>
</html>`,
        css: `/* ุฃููุงุท CSS ุนุตุฑูุฉ */
body {
    font-family: 'Cairo', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: #333;
    text-align: center;
    padding: 50px;
    margin: 0;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    background: rgba(255, 255, 255, 0.9);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
}

h1 {
    color: #4facfe;
    font-size: 2.8em;
    margin-bottom: 20px;
    animation: fadeIn 1s ease;
}

p {
    font-size: 1.1em;
    line-height: 1.8;
    color: #555;
    margin-bottom: 30px;
}

.button {
    display: inline-block;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
    padding: 15px 35px;
    border-radius: 50px;
    text-decoration: none;
    font-weight: bold;
    font-size: 1.1em;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
}

.button:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(79, 172, 254, 0.4);
}

.card {
    background: white;
    border-radius: 15px;
    padding: 25px;
    margin: 20px 0;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease;
}

.card:hover {
    transform: translateY(-10px);
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}`,
        javascript: `// ูุซุงู JavaScript ุชูุงุนูู
console.log('ูุฑุญุจุงู! ูุฐุง ูุซุงู ุนูู ููุฏ JavaScript');

// ุฏุงูุฉ ุงูุชุฑุญูุจ
function greetUser() {
    const name = "ูุญูุฏ";
    const message = \`ูุฑุญุจุงู \${name}! ๐\\nุฃููุงู ุจู ูู ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ.\`;
    
    // ุนุฑุถ ุฑุณุงูุฉ ุชุฑุญูุจ
    alert(message);
    
    // ุทุจุงุนุฉ ูู ุงููููุณูู
    console.log(message);
    
    // ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู
    document.getElementById('output').innerHTML = \`
        <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
            <h2>ูุฑุญุจุงู \${name}!</h2>
            <p>ุฃููุงู ูุณููุงู ุจู ูู ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ</p>
            <p>ูุฐุง ูุซุงู ุนูู ุงูุชูุงุนู ุจุงุณุชุฎุฏุงู JavaScript</p>
        </div>
    \`;
}

// ูุตูููุฉ ููุซุงู ุนูู map
const numbers = [1, 2, 3, 4, 5];
console.log('ุงูุฃุนุฏุงุฏ ุงูุฃุตููุฉ:', numbers);

const doubled = numbers.map(num => num * 2);
console.log('ุงูุฃุนุฏุงุฏ ุงููุถุงุนูุฉ:', doubled);

// ูุซุงู ุนูู ุงูุฏูุงู
function calculateSum(arr) {
    return arr.reduce((total, num) => total + num, 0);
}

const sum = calculateSum(numbers);
console.log(\`ูุฌููุน ุงูุฃุนุฏุงุฏ: \${sum}\`);

// ูุซุงู ุนูู setInterval
let counter = 0;
const interval = setInterval(() => {
    console.log(\`ุงูุนุฏุงุฏ: \${counter}\`);
    counter++;
    
    if (counter > 5) {
        clearInterval(interval);
        console.log('ุชู ุฅููุงู ุงูุนุฏุงุฏ');
    }
}, 1000);`,
        python: `# ูุซุงู Python ุดุงูู
print("ูุฑุญุจุงู ุจู ูู ููุตุฉ ุงูุชุนููู ุงูุฐููุฉ!")
print("=" * 40)

# ุชุนุฑูู ุฏุงูุฉ ุงูุชุฑุญูุจ
def greet_user(name):
    return f"ุฃููุงู ูุณููุงู {name}! ๐"

# ุงุณุชุฏุนุงุก ุงูุฏุงูุฉ
user_name = "ูุญูุฏ"
greeting = greet_user(user_name)
print(greeting)
print()

# ูุซุงู ุนูู ุงูููุงุฆู ูุงูุฏูุงู
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
print(f"ุงููุงุฆูุฉ: {numbers}")

# ุฏุงูุฉ ูุญุณุงุจ ุงููุฌููุน
def calculate_sum(nums):
    return sum(nums)

# ุฏุงูุฉ ูุญุณุงุจ ุงููุชูุณุท
def calculate_average(nums):
    return sum(nums) / len(nums)

total = calculate_sum(numbers)
average = calculate_average(numbers)

print(f"ูุฌููุน ุงูุฃุนุฏุงุฏ: {total}")
print(f"ูุชูุณุท ุงูุฃุนุฏุงุฏ: {average:.2f}")
print()

# ูุซุงู ุนูู ุงูุดุฑุทูุงุช
def check_number(num):
    if num % 2 == 0:
        return f"{num} ูู ุนุฏุฏ ุฒูุฌู"
    else:
        return f"{num} ูู ุนุฏุฏ ูุฑุฏู"

print("ูุญุต ุงูุฃุนุฏุงุฏ:")
for num in numbers[:5]:
    print(f"  {check_number(num)}")
print()

# ูุซุงู ุนูู ุงููุงููุณ (Dictionary)
student = {
    "name": "ุฃุญูุฏ",
    "age": 22,
    "courses": ["ุจุฑูุฌุฉ", "ุฐูุงุก ุงุตุทูุงุนู", "ููุงุนุฏ ุจูุงูุงุช"],
    "graduated": False
}

print("ูุนูููุงุช ุงูุทุงูุจ:")
for key, value in student.items():
    print(f"  {key}: {value}")`
      };
      
      document.getElementById('codeInput').value = examples[currentLanguage];
      updateLineCount();
      
      showNotification('ุชู ุชุญููู ุงููุซุงู ุจูุฌุงุญ! ุงุถุบุท ุชุดุบูู ูุฑุคูุฉ ุงููุชูุฌุฉ ๐', 'success');
    }
    
    function saveCode() {
      if (currentUser && firebaseInitialized) {
        const code = document.getElementById('codeInput').value;
        
        try {
          db.collection('users')
            .doc(currentUser.uid)
            .collection('savedCode')
            .add({
              language: currentLanguage,
              code: code,
              savedAt: firebase.firestore.FieldValue.serverTimestamp(),
              title: `ููุฏ ${currentLanguage} - ${new Date().toLocaleDateString('ar-SA')}`
            });
          
          showNotification('ุชู ุญูุธ ุงูููุฏ ุจูุฌุงุญ!', 'success');
        } catch (error) {
          showNotification('ุชู ุญูุธ ุงูููุฏ ูุญููุงู', 'info');
        }
      } else {
        showNotification('ุชู ุญูุธ ุงูููุฏ ูุคูุชุงู ูู ุงููุชุตูุญ', 'info');
      }
    }
    
    function downloadCode() {
      const code = document.getElementById('codeInput').value;
      const blob = new Blob([code], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `code_${currentLanguage}_${Date.now()}.${currentLanguage === 'html' ? 'html' : currentLanguage === 'css' ? 'css' : currentLanguage === 'javascript' ? 'js' : 'py'}`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showNotification('ุชู ุชุญููู ุงูููู ุจูุฌุงุญ!', 'success');
    }
    
    function updateLineCount() {
      const code = document.getElementById('codeInput').value;
      const lines = code.split('\n').length;
      const chars = code.length;
      document.getElementById('lineCount').textContent = `ุงูุณุทุฑ: ${lines}`;
      document.getElementById('charCount').textContent = `ุงูุฃุญุฑู: ${chars}`;
    }
    
    // ============================================
    // ูุธุงุฆู ุงููุตุงุฏูุฉ
    // ============================================
    function openModal(type) {
      if (type === 'login') {
        document.getElementById('loginModal').classList.add('active');
      } else if (type === 'register') {
        document.getElementById('registerModal').classList.add('active');
      }
    }
    
    function closeModal(type) {
      if (type === 'login') {
        document.getElementById('loginModal').classList.remove('active');
      } else if (type === 'register') {
        document.getElementById('registerModal').classList.remove('active');
      }
    }
    
    function switchToRegister() {
      closeModal('login');
      setTimeout(() => openModal('register'), 300);
    }
    
    function switchToLogin() {
      closeModal('register');
      setTimeout(() => openModal('login'), 300);
    }
    
    async function handleLogin(e) {
      e.preventDefault();
      
      if (!firebaseInitialized) {
        showNotification('ูุฑุฌู ุงูุงูุชุธุงุฑ ูุฌุงูุฒูุฉ ุงููุธุงู', 'warning');
        return;
      }
      
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      try {
        const userCredential = await auth.signInWithEmailAndPassword(email, password);
        closeModal('login');
        showNotification(`ูุฑุญุจุงู ${userCredential.user.email}! ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ ๐`, 'success');
        
        setTimeout(() => {
          showPage('dashboard');
        }, 1000);
      } catch (error) {
        let errorMessage = 'ุฎุทุฃ ูู ุชุณุฌูู ุงูุฏุฎูู';
        if (error.code === 'auth/user-not-found') {
          errorMessage = 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ูุณุฌู';
        } else if (error.code === 'auth/wrong-password') {
          errorMessage = 'ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ';
        } else if (error.code === 'auth/invalid-email') {
          errorMessage = 'ุจุฑูุฏ ุฅููุชุฑููู ุบูุฑ ุตุงูุญ';
        }
        showNotification(errorMessage, 'error');
      }
    }
    
    async function handleRegister(e) {
      e.preventDefault();
      
      if (!firebaseInitialized) {
        showNotification('ูุฑุฌู ุงูุงูุชุธุงุฑ ูุฌุงูุฒูุฉ ุงููุธุงู', 'warning');
        return;
      }
      
      const name = document.getElementById('registerName').value;
      const email = document.getElementById('registerEmail').value;
      const password = document.getElementById('registerPassword').value;
      
      try {
        const userCredential = await auth.createUserWithEmailAndPassword(email, password);
        await userCredential.user.updateProfile({ displayName: name });
        
        // ุญูุธ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู Firestore
        await db.collection('users').doc(userCredential.user.uid).set({
          name: name,
          email: email,
          createdAt: firebase.firestore.FieldValue.serverTimestamp(),
          profileComplete: false
        });
        
        closeModal('register');
        showNotification(`ูุฑุญุจุงู ${name}! ุชู ุฅูุดุงุก ุญุณุงุจู ุจูุฌุงุญ ๐`, 'success');
        
        setTimeout(() => {
          showPage('dashboard');
        }, 1000);
      } catch (error) {
        let errorMessage = 'ุฎุทุฃ ูู ุฅูุดุงุก ุงูุญุณุงุจ';
        if (error.code === 'auth/email-already-in-use') {
          errorMessage = 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ุจุงููุนู';
        } else if (error.code === 'auth/weak-password') {
          errorMessage = 'ูููุฉ ุงููุฑูุฑ ุถุนููุฉุ ูุฌุจ ุฃู ุชููู 6 ุฃุญุฑู ุนูู ุงูุฃูู';
        } else if (error.code === 'auth/invalid-email') {
          errorMessage = 'ุจุฑูุฏ ุฅููุชุฑููู ุบูุฑ ุตุงูุญ';
        }
        showNotification(errorMessage, 'error');
      }
    }
    
    async function handleSocialLogin(provider) {
      if (!firebaseInitialized) {
        showNotification('ูุฑุฌู ุงูุงูุชุธุงุฑ ูุฌุงูุฒูุฉ ุงููุธุงู', 'warning');
        return;
      }
      
      try {
        let authProvider;
        if (provider === 'google') {
          authProvider = new firebase.auth.GoogleAuthProvider();
        } else if (provider === 'facebook') {
          authProvider = new firebase.auth.FacebookAuthProvider();
        }
        
        const result = await auth.signInWithPopup(authProvider);
        
        closeModal('login');
        closeModal('register');
        
        showNotification(`ูุฑุญุจุงู! ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ ๐`, 'success');
        
        setTimeout(() => {
          showPage('dashboard');
        }, 1000);
      } catch (error) {
        showNotification('ุฎุทุฃ ูู ุชุณุฌูู ุงูุฏุฎูู: ' + error.message, 'error');
      }
    }
    
    async function handleLogout() {
      try {
        await auth.signOut();
        showNotification('ุชู ุชุณุฌูู ุงูุฎุฑูุฌ ุจูุฌุงุญ', 'info');
        showPage('home');
      } catch (error) {
        showNotification('ุฎุทุฃ ูู ุชุณุฌูู ุงูุฎุฑูุฌ', 'error');
      }
    }
    
    // ============================================
    // ูุธุงุฆู ุฅุถุงููุฉ
    // ============================================
    async function handleContact(e) {
      e.preventDefault();
      
      const name = document.getElementById('contactName').value;
      const email = document.getElementById('contactEmail').value;
      const subject = document.getElementById('contactSubject').value;
      const message = document.getElementById('contactMessage').value;
      
      if (firebaseInitialized) {
        try {
          await db.collection('messages').add({
            name: name,
            email: email,
            subject: subject,
            message: message,
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
          });
          
          showNotification('ุชู ุฅุฑุณุงู ุฑุณุงูุชู ุจูุฌุงุญ! ุณูุชูุงุตู ูุนู ูุฑูุจุงู ๐ง', 'success');
          e.target.reset();
        } catch (error) {
          showNotification('ุชู ุงุณุชูุงู ุฑุณุงูุชู (ูุถุน ูุญุงูุงุฉ) โ', 'info');
          e.target.reset();
        }
      } else {
        showNotification('ุชู ุงุณุชูุงู ุฑุณุงูุชู (ูุถุน ูุญุงูุงุฉ) โ', 'info');
        e.target.reset();
      }
    }
    
    async function loadUserProgress() {
      if (!firebaseInitialized || !currentUser) return;
      
      try {
        const progressDocs = await db.collection('users')
          .doc(currentUser.uid)
          .collection('progress')
          .where('completed', '==', true)
          .get();
        
        // ุชุญุฏูุซ ุญุงูุฉ ุงูุฏุฑูุณ ูู ุงูุฐุงูุฑุฉ
        progressDocs.forEach(doc => {
          const lessonId = doc.id;
          
          // ุงูุจุญุซ ุนู ุงูุฏุฑุณ ูู ุฌููุน ุงูุฏูุฑุงุช ูุชุญุฏูุซ ุญุงูุชู
          Object.keys(coursesData).forEach(courseType => {
            const course = coursesData[courseType];
            const lessonIndex = course.lessons.findIndex(lesson => lesson.id === lessonId);
            if (lessonIndex !== -1) {
              course.lessons[lessonIndex].completed = true;
            }
          });
        });
        
        console.log(`ุชู ุชุญููู ุชูุฏู ุงููุณุชุฎุฏู: ${progressDocs.size} ุฏุฑุณ ููุชูู`);
      } catch (error) {
        console.error('ุฎุทุฃ ูู ุชุญููู ุงูุชูุฏู:', error);
      }
    }
    
    async function updateDashboardStats() {
      if (!firebaseInitialized || !currentUser) return;
      
      try {
        const progressDocs = await db.collection('users')
          .doc(currentUser.uid)
          .collection('progress')
          .where('completed', '==', true)
          .get();
        
        const completedCount = progressDocs.size;
        document.getElementById('completedLessonsCount').textContent = `${completedCount}/57`;
      } catch (error) {
        console.error('ุฎุทุฃ ูู ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช:', error);
      }
    }
    
    async function updateProfile() {
      if (!firebaseInitialized || !currentUser) return;
      
      const name = document.getElementById('profileName').value;
      const email = document.getElementById('profileEmail').value;
      const phone = document.getElementById('profilePhone').value;
      const country = document.getElementById('profileCountry').value;
      const bio = document.getElementById('profileBio').value;
      
      try {
        // ุชุญุฏูุซ ุงูุงุณู ูู Authentication
        await currentUser.updateProfile({ displayName: name });
        
        // ุชุญุฏูุซ ุงูุจูุงูุงุช ูู Firestore
        await db.collection('users').doc(currentUser.uid).update({
          name: name,
          phone: phone,
          country: country,
          bio: bio,
          profileComplete: true
        });
        
        // ุชุญุฏูุซ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฅุฐุง ุชุบูุฑ
        if (email !== currentUser.email) {
          await currentUser.updateEmail(email);
          await db.collection('users').doc(currentUser.uid).update({
            email: email
          });
        }
        
        showNotification('ุชู ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู ุจูุฌุงุญ!', 'success');
        updateUserUI(currentUser);
      } catch (error) {
        showNotification('ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู: ' + error.message, 'error');
      }
    }
    
    function loadAllCourses() {
      const container = document.getElementById('allCoursesList');
      container.innerHTML = '';
      
      let hasCourses = false;
      
      Object.keys(coursesData).forEach(courseType => {
        const course = coursesData[courseType];
        hasCourses = true;
        
        const courseCard = document.createElement('div');
        courseCard.className = 'card-hover bg-white rounded-2xl shadow-lg p-6 cursor-pointer';
        courseCard.onclick = () => showCourse(courseType);
        
        courseCard.innerHTML = `
          <div class="text-5xl mb-4 text-center ${course.color.includes('purple') ? 'text-purple-600' : course.color.includes('blue') ? 'text-blue-600' : course.color.includes('green') ? 'text-green-600' : course.color.includes('red') ? 'text-red-600' : 'text-yellow-600'}">
            <i class="${course.icon}"></i>
          </div>
          <h3 class="text-xl font-bold mb-3 text-gray-800 text-center">${course.title}</h3>
          <p class="text-gray-600 mb-4 text-center">${course.description}</p>
          <div class="flex justify-between items-center">
            <span class="text-sm text-gray-500">${course.lessons.length} ุฏุฑุณ</span>
            <span class="text-purple-600 font-semibold">ุนุฑุถ ุงูุฏูุฑุฉ โ</span>
          </div>
        `;
        
        container.appendChild(courseCard);
      });
      
      // ุฅุธูุงุฑ ุฑุณุงูุฉ ุฅุฐุง ูู ุชูุฌุฏ ุฏูุฑุงุช
      document.getElementById('noCoursesMessage').classList.toggle('hidden', hasCourses);
    }
    
    function searchCourses() {
      const searchTerm = document.getElementById('courseSearch').value.toLowerCase();
      const filterValue = document.getElementById('courseFilter').value;
      
      // ูู ูุฐุง ุงููุซุงูุ ุณูููู ููุท ุจุชุตููุฉ ุจุณูุทุฉ
      // ูู ุชุทุจูู ุญููููุ ููููู ุชูููุฐ ุจุญุซ ุฃูุซุฑ ุชุทูุฑุงู
      showNotification(`ุจุญุซ ุนู: ${searchTerm || 'ุฌููุน ุงูุฏูุฑุงุช'} (ุชุตููุฉ: ${filterValue})`, 'info');
    }
    
    // ============================================
    // ุชููุฆุฉ ุงูุชุทุจูู
    // ============================================
    document.addEventListener('DOMContentLoaded', function() {
      // ุชููุฆุฉ Firebase
      initializeFirebase();
      
      // ุฅุนุฏุงุฏ ูุญุฑุฑ ุงูููุฏ
      const codeInput = document.getElementById('codeInput');
      if (codeInput) {
        codeInput.addEventListener('input', updateLineCount);
        codeInput.addEventListener('keydown', function(e) {
          if (e.key === 'Tab') {
            e.preventDefault();
            const start = this.selectionStart;
            const end = this.selectionEnd;
            this.value = this.value.substring(0, start) + '    ' + this.value.substring(end);
            this.selectionStart = this.selectionEnd = start + 4;
          }
        });
      }
      
      // ุฅุนุฏุงุฏ ุงูุชุญุฏูุซุงุช ูู ุงูููุช ุงููุนูู
      window.addEventListener('message', function(e) {
        if (e.data.type === 'console') {
          const consoleContent = document.getElementById('consoleContent');
          if (consoleContent) {
            consoleContent.innerHTML += `<div class="text-green-400">>> ${e.data.data}</div>`;
          }
        } else if (e.data.type === 'error') {
          const consoleContent = document.getElementById('consoleContent');
          if (consoleContent) {
            consoleContent.innerHTML += `<div class="text-red-400">โ ุฎุทุฃ: ${e.data.data}</div>`;
          }
        }
      });
      
      // ุฅุนุฏุงุฏ ุฑูุน ุงูุตูุฑ
      const avatarUpload = document.getElementById('avatarUpload');
      if (avatarUpload) {
        avatarUpload.addEventListener('change', function(e) {
          const file = e.target.files[0];
          if (file) {
            if (file.size > 2 * 1024 * 1024) {
              showNotification('ุงูููู ูุจูุฑ ุฌุฏุงู! ุงูุญุฏ ุงูุฃูุตู 2MB', 'error');
              return;
            }
            
            const reader = new FileReader();
            reader.onload = function(event) {
              const avatar = document.getElementById('profileAvatar');
              avatar.innerHTML = `<img src="${event.target.result}" class="w-full h-full rounded-full object-cover" alt="ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ">`;
            };
            reader.readAsDataURL(file);
            
            showNotification('ุชู ุชุญููู ุงูุตูุฑุฉ ุจูุฌุงุญ', 'success');
          }
        });
      }
      
      // ุชุญุฏูุฏ ุงูุตูุญุฉ ุงูุงูุชุฑุงุถูุฉ
      showPage('home');
    });
    
    // ============================================
    // ูุธุงุฆู ุฅุถุงููุฉ ููุจูุฆุฉ
    // ============================================
    function exportUserData() {
      showNotification('ุณูุชู ุชูุฒูู ุจูุงูุงุชู ูุฑูุจุงู...', 'info');
      // ูู ุชุทุจูู ุญููููุ ููููู ุฅูุดุงุก ููู JSON ูุญุชูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู ูุชูุฒููู
    }
    
    function deleteAccount() {
      if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุญุณุงุจูุ ูุฐู ุงูุนูููุฉ ูุง ูููู ุงูุชุฑุงุฌุน ุนููุง.')) {
        showNotification('ุชู ุทูุจ ุญุฐู ุงูุญุณุงุจ...', 'info');
        // ูู ุชุทุจูู ุญููููุ ููููู ุญุฐู ุญุณุงุจ ุงููุณุชุฎุฏู ูู Firebase
      }
    }
    
    function changePassword() {
      const currentPass = document.getElementById('currentPassword').value;
      const newPass = document.getElementById('newPassword').value;
      const confirmPass = document.getElementById('confirmPassword').value;
      
      if (newPass !== confirmPass) {
        showNotification('ูููุงุช ุงููุฑูุฑ ุบูุฑ ูุชุทุงุจูุฉ', 'error');
        return;
      }
      
      if (newPass.length < 6) {
        showNotification('ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชููู 6 ุฃุญุฑู ุนูู ุงูุฃูู', 'error');
        return;
      }
      
      showNotification('ุชู ุทูุจ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ...', 'info');
      // ูู ุชุทุจูู ุญููููุ ููููู ุงุณุชุฎุฏุงู firebase.auth().currentUser.updatePassword(newPass)
    }

    //ุชุญุฏูุซ ุชุนุฏูู ุงูููุชุฑ ููููู ูุฑูุง ูุน ุงููุณุชุฎุฏู
  
  // ูุธููุฉ ูุฅุฎูุงุก/ุฅุธูุงุฑ ุงูููุชุฑ ุญุณุจ ูููุน ุงูุชูุฑูุฑ
  function handleFooterVisibility() {
    const footer = document.querySelector('footer');
    const windowHeight = window.innerHeight;
    const documentHeight = document.documentElement.scrollHeight;
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    // ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูู ุงูุฃุณููุ ุฃุธูุฑ ุงูููุชุฑ
    if (windowHeight + scrollTop >= documentHeight - 100) {
      footer.style.opacity = '1';
      footer.style.transform = 'translateY(0)';
    } else {
      footer.style.opacity = '0';
      footer.style.transform = 'translateY(20px)';
    }
  }
  
  // ุฅุถุงูุฉ ุงูุฃููุงุท ููููุชุฑ ุงููุชุญุฑู
  const style = document.createElement('style');
  style.textContent = `
    footer {
      transition: opacity 0.3s ease, transform 0.3s ease;
      opacity: 0;
      transform: translateY(20px);
    }
    
    footer.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* ุชุฃูุฏ ูู ูุฌูุฏ ูุณุงูุฉ ูุงููุฉ ูู ุงูุฃุณูู */
    body {
      padding-bottom: 100px;
    }
  `;
  document.head.appendChild(style);
  
  // ุงุณุชุฏุนุงุก ุงููุธููุฉ ุนูุฏ ุงูุชูุฑูุฑ
  window.addEventListener('scroll', handleFooterVisibility);
  window.addEventListener('resize', handleFooterVisibility);
  
  // ุชุดุบูู ูุฑุฉ ุนูุฏ ุงูุชุญููู
  document.addEventListener('DOMContentLoaded', handleFooterVisibility);
//ููุงูุฉ ุชุนุฏูู ุงูููุชุฑ ููููู ูุฑูุง ูุน ุงููุญุชูู
  </script>
</body>
</html>
